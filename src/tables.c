/* File: tables.c */

/*
 * Copyright (c) 1997 Ben Harrison, James E. Wilson, Robert A. Koeneke
 *
 * This software may be copied and distributed for educational, research,
 * and not for profit purposes provided that this copyright and statement
 * are included in all such copies.  Other copyrights may also apply.
 */

/* Large pieces of the code have been copied from Oangband by Leon Marrik */

#include "angband.h"

/*
 * Global array for looping through the "keypad directions".
 */
s16b ddd[9] =
{ 2, 8, 6, 4, 3, 1, 9, 7, 5 };

/*
 * Global arrays for converting "keypad direction" into "offsets".
 */
s16b ddx[10] =
{ 0, -1, 0, 1, -1, 0, 1, -1, 0, 1 };

s16b ddy[10] =
{ 0, 1, 1, 1, 0, 0, 0, -1, -1, -1 };

/*
 * Global arrays for optimizing "ddx[ddd[i]]" and "ddy[ddd[i]]".
 */
s16b ddx_ddd[9] =
{ 0, 0, 1, -1, 1, -1, 1, -1, 0 };

s16b ddy_ddd[9] =
{ 1, -1, 0, 0, 1, 1, -1, -1, 0 };


/*
 * Global array for converting numbers to uppercase hecidecimal digit
 * This array can also be used to convert a number to an octal digit
 */
char hexsym[16] =
{
	'0', '1', '2', '3', '4', '5', '6', '7',
	'8', '9', 'A', 'B', 'C', 'D', 'E', 'F'
};


/*
 * Stat Table (INT/WIS) -- Number of half-spells per level
 */
byte adj_mag_study[] =
{
	0	/* 3 */,
	0	/* 4 */,
	0	/* 5 */,
	0	/* 6 */,
	0	/* 7 */,
	1	/* 8 */,
	1	/* 9 */,
	1	/* 10 */,
	1	/* 11 */,
	2	/* 12 */,
	2	/* 13 */,
	2	/* 14 */,
	2	/* 15 */,
	2	/* 16 */,
	2	/* 17 */,
	2	/* 18/00-18/09 */,
	2	/* 18/10-18/19 */,
	2	/* 18/20-18/29 */,
	2	/* 18/30-18/39 */,
	2	/* 18/40-18/49 */,
	3	/* 18/50-18/59 */,
	3	/* 18/60-18/69 */,
	3	/* 18/70-18/79 */,
	3	/* 18/80-18/89 */,
	4	/* 18/90-18/99 */,
	4	/* 18/100-18/109 */,
	4	/* 18/110-18/119 */,
	5	/* 18/120-18/129 */,
	5	/* 18/130-18/139 */,
	5	/* 18/140-18/149 */,
	5	/* 18/150-18/159 */,
	5	/* 18/160-18/169 */,
	5	/* 18/170-18/179 */,
	5	/* 18/180-18/189 */,
	5	/* 18/190-18/199 */,
	5	/* 18/200-18/209 */,
	5	/* 18/210-18/219 */,
	5	/* 18/220+ */
};


/*
 * Stat Table (INT/WIS) -- half-mana-points per level
 */
byte adj_mag_mana[] =
{
	0	/* 3 */,
	0	/* 4 */,
	0	/* 5 */,
	0	/* 6 */,
	0	/* 7 */,
	1	/* 8 */,
	2	/* 9 */,
	2	/* 10 */,
	2	/* 11 */,
	2	/* 12 */,
	2	/* 13 */,
	2	/* 14 */,
	2	/* 15 */,
	2	/* 16 */,
	2	/* 17 */,
	3	/* 18/00-18/09 */,
	3	/* 18/10-18/19 */,
	3	/* 18/20-18/29 */,
	3	/* 18/30-18/39 */,
	3	/* 18/40-18/49 */,
	4	/* 18/50-18/59 */,
	4	/* 18/60-18/69 */,
	5	/* 18/70-18/79 */,
	6	/* 18/80-18/89 */,
	7	/* 18/90-18/99 */,
	8	/* 18/100-18/109 */,
	9	/* 18/110-18/119 */,
	10	/* 18/120-18/129 */,
	11	/* 18/130-18/139 */,
	12	/* 18/140-18/149 */,
	13	/* 18/150-18/159 */,
	14	/* 18/160-18/169 */,
	15	/* 18/170-18/179 */,
	16	/* 18/180-18/189 */,
	16	/* 18/190-18/199 */,
	16  /* 18/200-18/209 */,
	16	/* 18/210-18/219 */,
	16	/* 18/220+ */
};


/*
 * Stat Table (INT/WIS) -- extra half-mana-points per level for classes with extra mana
 */
byte adj_mag_extra_mana[] =
{
	0	/* 3 */,
	0	/* 4 */,
	0	/* 5 */,
	0	/* 6 */,
	0	/* 7 */,
	0	/* 8 */,
	0	/* 9 */,
	0	/* 10 */,
	1	/* 11 */,
	1	/* 12 */,
	2	/* 13 */,
	2	/* 14 */,
	2	/* 15 */,
	2	/* 16 */,
	3	/* 17 */,
	3	/* 18/00-18/09 */,
	3	/* 18/10-18/19 */,
	3	/* 18/20-18/29 */,
	3	/* 18/30-18/39 */,
	3	/* 18/40-18/49 */,
	3	/* 18/50-18/59 */,
	3	/* 18/60-18/69 */,
	3	/* 18/70-18/79 */,
	3	/* 18/80-18/89 */,
	3	/* 18/90-18/99 */,
	4	/* 18/100-18/109 */,
	4	/* 18/110-18/119 */,
	5	/* 18/120-18/129 */,
	5	/* 18/130-18/139 */,
	6	/* 18/140-18/149 */,
	6	/* 18/150-18/159 */,
	7	/* 18/160-18/169 */,
	7	/* 18/170-18/179 */,
	8	/* 18/180-18/189 */,
	8	/* 18/190-18/199 */,
	9   /* 18/200-18/209 */,
	9	/* 18/210-18/219 */,
	9	/* 18/220+ */
};

/*
 * Stat Table (INT/WIS) -- Minimum failure rate (percentage)
 */
byte adj_mag_fail[] =
{
	99	/* 3 */,
	99	/* 4 */,
	99	/* 5 */,
	99	/* 6 */,
	99	/* 7 */,
	50	/* 8 */,
	30	/* 9 */,
	20	/* 10 */,
	15	/* 11 */,
	12	/* 12 */,
	11	/* 13 */,
	10	/* 14 */,
	9	/* 15 */,
	8	/* 16 */,
	7	/* 17 */,
	6	/* 18/00-18/09 */,
	6	/* 18/10-18/19 */,
	5	/* 18/20-18/29 */,
	5	/* 18/30-18/39 */,
	5	/* 18/40-18/49 */,
	4	/* 18/50-18/59 */,
	4	/* 18/60-18/69 */,
	4	/* 18/70-18/79 */,
	4	/* 18/80-18/89 */,
	3	/* 18/90-18/99 */,
	3	/* 18/100-18/109 */,
	2	/* 18/110-18/119 */,
	2	/* 18/120-18/129 */,
	2	/* 18/130-18/139 */,
	2	/* 18/140-18/149 */,
	1	/* 18/150-18/159 */,
	1	/* 18/160-18/169 */,
	1	/* 18/170-18/179 */,
	1	/* 18/180-18/189 */,
	1	/* 18/190-18/199 */,
	0	/* 18/200-18/209 */,
	0	/* 18/210-18/219 */,
	0	/* 18/220+ */
};


/*
 * Stat Table (INT/WIS) -- Various things
 */
byte adj_mag_stat[] =
{
	0	/* 3 */,
	0	/* 4 */,
	0	/* 5 */,
	0	/* 6 */,
	0	/* 7 */,
	1	/* 8 */,
	1	/* 9 */,
	1	/* 10 */,
	1	/* 11 */,
	1	/* 12 */,
	1	/* 13 */,
	1	/* 14 */,
	2	/* 15 */,
	2	/* 16 */,
	2	/* 17 */,
	3	/* 18/00-18/09 */,
	3	/* 18/10-18/19 */,
	3	/* 18/20-18/29 */,
	3	/* 18/30-18/39 */,
	3	/* 18/40-18/49 */,
	4	/* 18/50-18/59 */,
	4	/* 18/60-18/69 */,
	5	/* 18/70-18/79 */,
	6	/* 18/80-18/89 */,
	7	/* 18/90-18/99 */,
	8	/* 18/100-18/109 */,
	9	/* 18/110-18/119 */,
	10	/* 18/120-18/129 */,
	11	/* 18/130-18/139 */,
	12	/* 18/140-18/149 */,
	13	/* 18/150-18/159 */,
	14	/* 18/160-18/169 */,
	15	/* 18/170-18/179 */,
	16	/* 18/180-18/189 */,
	17	/* 18/190-18/199 */,
	18	/* 18/200-18/209 */,
	19	/* 18/210-18/219 */,
	20	/* 18/220+ */
};


/*
 * Stat Table (CHR) -- payment percentages
 */
byte adj_chr_gold[] =
{
	130	/* 3 */,
	125	/* 4 */,
	122	/* 5 */,
	120	/* 6 */,
	118	/* 7 */,
	116	/* 8 */,
	114	/* 9 */,
	112	/* 10 */,
	110	/* 11 */,
	108	/* 12 */,
	106	/* 13 */,
	104	/* 14 */,
	103	/* 15 */,
	102	/* 16 */,
	101	/* 17 */,
	100	/* 18/00-18/09 */,
	99	/* 18/10-18/19 */,
	98	/* 18/20-18/29 */,
	97	/* 18/30-18/39 */,
	96	/* 18/40-18/49 */,
	95	/* 18/50-18/59 */,
	94	/* 18/60-18/69 */,
	93	/* 18/70-18/79 */,
	92	/* 18/80-18/89 */,
	91	/* 18/90-18/99 */,
	90	/* 18/100-18/109 */,
	89	/* 18/110-18/119 */,
	88	/* 18/120-18/129 */,
	87	/* 18/130-18/139 */,
	86	/* 18/140-18/149 */,
	85	/* 18/150-18/159 */,
	84	/* 18/160-18/169 */,
	83	/* 18/170-18/179 */,
	82	/* 18/180-18/189 */,
	81	/* 18/190-18/199 */,
	80	/* 18/200-18/209 */,
	80	/* 18/210-18/219 */,
	80	/* 18/220+ */
};

/*
 * Stat Table (CHR) -- monster calmed recovery
 */
byte adj_chr_calm[] =
{
	15	/* 3 */,
	12	/* 4 */,
	10	/* 5 */,
	 8	/* 6 */,
	 8	/* 7 */,
	 7	/* 8 */,
	 7	/* 9 */,
	 6	/* 10 */,
	 6	/* 11 */,
	 5	/* 12 */,
	 5	/* 13 */,
	 5	/* 14 */,
	 4	/* 15 */,
	 4	/* 16 */,
	 4	/* 17 */,
	 4	/* 18/00-18/09 */,
	 3	/* 18/10-18/19 */,
	 3	/* 18/20-18/29 */,
	 3	/* 18/30-18/39 */,
	 3	/* 18/40-18/49 */,
	 2	/* 18/50-18/59 */,
	 2	/* 18/60-18/69 */,
	 2	/* 18/70-18/79 */,
	 2	/* 18/80-18/89 */,
	 2	/* 18/90-18/99 */,
	 1	/* 18/100-18/109 */,
	 1	/* 18/110-18/119 */,
	 1	/* 18/120-18/129 */,
	 1	/* 18/130-18/139 */,
	 1	/* 18/140-18/149 */,
	 1	/* 18/150-18/159 */,
	 1	/* 18/160-18/169 */,
	 1	/* 18/170-18/179 */,
	 1	/* 18/180-18/189 */,
	 1	/* 18/190-18/199 */,
	 1	/* 18/200-18/209 */,
	 1	/* 18/210-18/219 */,
	 1	/* 18/220+ */
};

/*
 * Stat Table (INT) -- Magic devices
 */
byte adj_int_dev[] =
{
	0	/* 3 */,
	0	/* 4 */,
	0	/* 5 */,
	0	/* 6 */,
	0	/* 7 */,
	1	/* 8 */,
	1	/* 9 */,
	1	/* 10 */,
	1	/* 11 */,
	1	/* 12 */,
	1	/* 13 */,
	1	/* 14 */,
	2	/* 15 */,
	2	/* 16 */,
	2	/* 17 */,
	3	/* 18/00-18/09 */,
	3	/* 18/10-18/19 */,
	4	/* 18/20-18/29 */,
	4	/* 18/30-18/39 */,
	5	/* 18/40-18/49 */,
	5	/* 18/50-18/59 */,
	6	/* 18/60-18/69 */,
	6	/* 18/70-18/79 */,
	7	/* 18/80-18/89 */,
	7	/* 18/90-18/99 */,
	8	/* 18/100-18/109 */,
	9	/* 18/110-18/119 */,
	10	/* 18/120-18/129 */,
	11	/* 18/130-18/139 */,
	12	/* 18/140-18/149 */,
	13	/* 18/150-18/159 */,
	14	/* 18/160-18/169 */,
	15	/* 18/170-18/179 */,
	16	/* 18/180-18/189 */,
	17	/* 18/190-18/199 */,
	18	/* 18/200-18/209 */,
	19	/* 18/210-18/219 */,
	20	/* 18/220+ */
};


/*
 * Stat Table (INT) -- alchemy
 */
byte adj_int_alc[] =
{
	0	/* 3 */,
	0	/* 4 */,
	0	/* 5 */,
	0	/* 6 */,
	0	/* 7 */,
	0	/* 8 */,
	0	/* 9 */,
	0	/* 10 */,
	0	/* 11 */,
	0	/* 12 */,
	0	/* 13 */,
	0	/* 14 */,
	0	/* 15 */,
	1	/* 16 */,
	1	/* 17 */,
	2	/* 18/00-18/09 */,
	2	/* 18/10-18/19 */,
	3	/* 18/20-18/29 */,
	3	/* 18/30-18/39 */,
	4	/* 18/40-18/49 */,
	4	/* 18/50-18/59 */,
	5	/* 18/60-18/69 */,
	5	/* 18/70-18/79 */,
	6	/* 18/80-18/89 */,
	6	/* 18/90-18/99 */,
	7	/* 18/100-18/109 */,
	7	/* 18/110-18/119 */,
	8	/* 18/120-18/129 */,
	8	/* 18/130-18/139 */,
	9	/* 18/140-18/149 */,
	9	/* 18/150-18/159 */,
	10	/* 18/160-18/169 */,
	10	/* 18/170-18/179 */,
	11	/* 18/180-18/189 */,
	13	/* 18/190-18/199 */,
	13	/* 18/200-18/209 */,
	15	/* 18/210-18/219 */,
	17	/* 18/220+ */
};

/*
 * Stat Table (WIS) -- Saving throw
 */
byte adj_wis_sav[] =
{
	0	/* 3 */,
	0	/* 4 */,
	0	/* 5 */,
	0	/* 6 */,
	0	/* 7 */,
	1	/* 8 */,
	1	/* 9 */,
	1	/* 10 */,
	1	/* 11 */,
	1	/* 12 */,
	1	/* 13 */,
	1	/* 14 */,
	2	/* 15 */,
	2	/* 16 */,
	2	/* 17 */,
	3	/* 18/00-18/09 */,
	3	/* 18/10-18/19 */,
	3	/* 18/20-18/29 */,
	3	/* 18/30-18/39 */,
	3	/* 18/40-18/49 */,
	4	/* 18/50-18/59 */,
	4	/* 18/60-18/69 */,
	5	/* 18/70-18/79 */,
	5	/* 18/80-18/89 */,
	6	/* 18/90-18/99 */,
	7	/* 18/100-18/109 */,
	8	/* 18/110-18/119 */,
	9	/* 18/120-18/129 */,
	10	/* 18/130-18/139 */,
	11	/* 18/140-18/149 */,
	12	/* 18/150-18/159 */,
	13	/* 18/160-18/169 */,
	14	/* 18/170-18/179 */,
	15	/* 18/180-18/189 */,
	16	/* 18/190-18/199 */,
	17	/* 18/200-18/209 */,
	18	/* 18/210-18/219 */,
	19	/* 18/220+ */
};


/*
 * Stat Table (DEX) -- disarming
 */
byte adj_dex_dis[] =
{
	0	/* 3 */,
	0	/* 4 */,
	0	/* 5 */,
	0	/* 6 */,
	0	/* 7 */,
	0	/* 8 */,
	0	/* 9 */,
	0	/* 10 */,
	0	/* 11 */,
	0	/* 12 */,
	1	/* 13 */,
	1	/* 14 */,
	1	/* 15 */,
	2	/* 16 */,
	2	/* 17 */,
	4	/* 18/00-18/09 */,
	4	/* 18/10-18/19 */,
	4	/* 18/20-18/29 */,
	4	/* 18/30-18/39 */,
	5	/* 18/40-18/49 */,
	5	/* 18/50-18/59 */,
	5	/* 18/60-18/69 */,
	6	/* 18/70-18/79 */,
	6	/* 18/80-18/89 */,
	7	/* 18/90-18/99 */,
	8	/* 18/100-18/109 */,
	8	/* 18/110-18/119 */,
	8	/* 18/120-18/129 */,
	8	/* 18/130-18/139 */,
	8	/* 18/140-18/149 */,
	9	/* 18/150-18/159 */,
	9	/* 18/160-18/169 */,
	9	/* 18/170-18/179 */,
	9	/* 18/180-18/189 */,
	9	/* 18/190-18/199 */,
	10	/* 18/200-18/209 */,
	10	/* 18/210-18/219 */,
	10	/* 18/220+ */
};


/*
 * Stat Table (INT) -- disarming
 */
byte adj_int_dis[] =
{
	0	/* 3 */,
	0	/* 4 */,
	0	/* 5 */,
	0	/* 6 */,
	0	/* 7 */,
	1	/* 8 */,
	1	/* 9 */,
	1	/* 10 */,
	1	/* 11 */,
	1	/* 12 */,
	1	/* 13 */,
	1	/* 14 */,
	2	/* 15 */,
	2	/* 16 */,
	2	/* 17 */,
	3	/* 18/00-18/09 */,
	3	/* 18/10-18/19 */,
	3	/* 18/20-18/29 */,
	4	/* 18/30-18/39 */,
	4	/* 18/40-18/49 */,
	5	/* 18/50-18/59 */,
	6	/* 18/60-18/69 */,
	7	/* 18/70-18/79 */,
	8	/* 18/80-18/89 */,
	9	/* 18/90-18/99 */,
	10	/* 18/100-18/109 */,
	10	/* 18/110-18/119 */,
	11	/* 18/120-18/129 */,
	12	/* 18/130-18/139 */,
	13	/* 18/140-18/149 */,
	14	/* 18/150-18/159 */,
	15	/* 18/160-18/169 */,
	16	/* 18/170-18/179 */,
	17	/* 18/180-18/189 */,
	18	/* 18/190-18/199 */,
	19	/* 18/200-18/209 */,
	19	/* 18/210-18/219 */,
	19	/* 18/220+ */
};


/*
 * Stat Table (DEX) -- bonus to ac (plus 128)
 */
byte adj_dex_ta[] =
{
	128 + -4	/* 3 */,
	128 + -3	/* 4 */,
	128 + -2	/* 5 */,
	128 + -1	/* 6 */,
	128 + 0	/* 7 */,
	128 + 0	/* 8 */,
	128 + 0	/* 9 */,
	128 + 0	/* 10 */,
	128 + 0	/* 11 */,
	128 + 0	/* 12 */,
	128 + 0	/* 13 */,
	128 + 0	/* 14 */,
	128 + 1	/* 15 */,
	128 + 1	/* 16 */,
	128 + 1	/* 17 */,
	128 + 2	/* 18/00-18/09 */,
	128 + 2	/* 18/10-18/19 */,
	128 + 2	/* 18/20-18/29 */,
	128 + 2	/* 18/30-18/39 */,
	128 + 2	/* 18/40-18/49 */,
	128 + 3	/* 18/50-18/59 */,
	128 + 3	/* 18/60-18/69 */,
	128 + 3	/* 18/70-18/79 */,
	128 + 4	/* 18/80-18/89 */,
	128 + 5	/* 18/90-18/99 */,
	128 + 6	/* 18/100-18/109 */,
	128 + 7	/* 18/110-18/119 */,
	128 + 8	/* 18/120-18/129 */,
	128 + 9	/* 18/130-18/139 */,
	128 + 9	/* 18/140-18/149 */,
	128 + 10	/* 18/150-18/159 */,
	128 + 11	/* 18/160-18/169 */,
	128 + 12	/* 18/170-18/179 */,
	128 + 13	/* 18/180-18/189 */,
	128 + 14	/* 18/190-18/199 */,
	128 + 15	/* 18/200-18/209 */,
	128 + 15	/* 18/210-18/219 */,
	128 + 15	/* 18/220+ */
};


/*
 * Stat Table (STR) -- bonus to dam (plus 128)
 */
byte adj_str_td[] =
{
	128 + -2	/* 3 */,
	128 + -2	/* 4 */,
	128 + -1	/* 5 */,
	128 + -1	/* 6 */,
	128 + 0	/* 7 */,
	128 + 0	/* 8 */,
	128 + 0	/* 9 */,
	128 + 0	/* 10 */,
	128 + 0	/* 11 */,
	128 + 0	/* 12 */,
	128 + 0	/* 13 */,
	128 + 0	/* 14 */,
	128 + 0	/* 15 */,
	128 + 1	/* 16 */,
	128 + 2	/* 17 */,
	128 + 2	/* 18/00-18/09 */,
	128 + 2	/* 18/10-18/19 */,
	128 + 3	/* 18/20-18/29 */,
	128 + 3	/* 18/30-18/39 */,
	128 + 3	/* 18/40-18/49 */,
	128 + 3	/* 18/50-18/59 */,
	128 + 3	/* 18/60-18/69 */,
	128 + 4	/* 18/70-18/79 */,
	128 + 5	/* 18/80-18/89 */,
	128 + 5	/* 18/90-18/99 */,
	128 + 6	/* 18/100-18/109 */,
	128 + 7	/* 18/110-18/119 */,
	128 + 8	/* 18/120-18/129 */,
	128 + 9	/* 18/130-18/139 */,
	128 + 10	/* 18/140-18/149 */,
	128 + 11	/* 18/150-18/159 */,
	128 + 12	/* 18/160-18/169 */,
	128 + 13	/* 18/170-18/179 */,
	128 + 14	/* 18/180-18/189 */,
	128 + 15	/* 18/190-18/199 */,
	128 + 16	/* 18/200-18/209 */,
	128 + 18	/* 18/210-18/219 */,
	128 + 20	/* 18/220+ */
};


/*
 * Stat Table (DEX) -- bonus to hit (plus 128)
 */
byte adj_dex_th[] =
{
	128 + -3	/* 3 */,
	128 + -2	/* 4 */,
	128 + -2	/* 5 */,
	128 + -1	/* 6 */,
	128 + -1	/* 7 */,
	128 + 0	/* 8 */,
	128 + 0	/* 9 */,
	128 + 0	/* 10 */,
	128 + 0	/* 11 */,
	128 + 0	/* 12 */,
	128 + 0	/* 13 */,
	128 + 0	/* 14 */,
	128 + 0	/* 15 */,
	128 + 1	/* 16 */,
	128 + 2	/* 17 */,
	128 + 3	/* 18/00-18/09 */,
	128 + 3	/* 18/10-18/19 */,
	128 + 3	/* 18/20-18/29 */,
	128 + 3	/* 18/30-18/39 */,
	128 + 3	/* 18/40-18/49 */,
	128 + 4	/* 18/50-18/59 */,
	128 + 4	/* 18/60-18/69 */,
	128 + 4	/* 18/70-18/79 */,
	128 + 4	/* 18/80-18/89 */,
	128 + 5	/* 18/90-18/99 */,
	128 + 6	/* 18/100-18/109 */,
	128 + 7	/* 18/110-18/119 */,
	128 + 8	/* 18/120-18/129 */,
	128 + 9	/* 18/130-18/139 */,
	128 + 9	/* 18/140-18/149 */,
	128 + 10	/* 18/150-18/159 */,
	128 + 11	/* 18/160-18/169 */,
	128 + 12	/* 18/170-18/179 */,
	128 + 13	/* 18/180-18/189 */,
	128 + 14	/* 18/190-18/199 */,
	128 + 15	/* 18/200-18/209 */,
	128 + 15	/* 18/210-18/219 */,
	128 + 15	/* 18/220+ */
};


/*
 * Stat Table (STR) -- bonus to hit (plus 128)
 */
byte adj_str_th[] =
{
	128 + -3	/* 3 */,
	128 + -2	/* 4 */,
	128 + -1	/* 5 */,
	128 + -1	/* 6 */,
	128 + 0	/* 7 */,
	128 + 0	/* 8 */,
	128 + 0	/* 9 */,
	128 + 0	/* 10 */,
	128 + 0	/* 11 */,
	128 + 0	/* 12 */,
	128 + 0	/* 13 */,
	128 + 0	/* 14 */,
	128 + 0	/* 15 */,
	128 + 0	/* 16 */,
	128 + 0	/* 17 */,
	128 + 1	/* 18/00-18/09 */,
	128 + 1	/* 18/10-18/19 */,
	128 + 1	/* 18/20-18/29 */,
	128 + 1	/* 18/30-18/39 */,
	128 + 1	/* 18/40-18/49 */,
	128 + 1	/* 18/50-18/59 */,
	128 + 1	/* 18/60-18/69 */,
	128 + 2	/* 18/70-18/79 */,
	128 + 3	/* 18/80-18/89 */,
	128 + 4	/* 18/90-18/99 */,
	128 + 5	/* 18/100-18/109 */,
	128 + 6	/* 18/110-18/119 */,
	128 + 7	/* 18/120-18/129 */,
	128 + 8	/* 18/130-18/139 */,
	128 + 9	/* 18/140-18/149 */,
	128 + 10	/* 18/150-18/159 */,
	128 + 11	/* 18/160-18/169 */,
	128 + 12	/* 18/170-18/179 */,
	128 + 13	/* 18/180-18/189 */,
	128 + 14	/* 18/190-18/199 */,
	128 + 15	/* 18/200-18/209 */,
	128 + 15	/* 18/210-18/219 */,
	128 + 15	/* 18/220+ */
};


/*
 * Stat Table (STR) -- weight limit in deca-pounds
 */
byte adj_str_wgt[] =
{
	5	/* 3 */,
	6	/* 4 */,
	7	/* 5 */,
	8	/* 6 */,
	9	/* 7 */,
	10	/* 8 */,
	11	/* 9 */,
	12	/* 10 */,
	13	/* 11 */,
	14	/* 12 */,
	15	/* 13 */,
	16	/* 14 */,
	17	/* 15 */,
	18	/* 16 */,
	19	/* 17 */,
	20	/* 18/00-18/09 */,
	22	/* 18/10-18/19 */,
	24	/* 18/20-18/29 */,
	26	/* 18/30-18/39 */,
	28	/* 18/40-18/49 */,
	30	/* 18/50-18/59 */,
	30	/* 18/60-18/69 */,
	30	/* 18/70-18/79 */,
	30	/* 18/80-18/89 */,
	30	/* 18/90-18/99 */,
	30	/* 18/100-18/109 */,
	30	/* 18/110-18/119 */,
	30	/* 18/120-18/129 */,
	30	/* 18/130-18/139 */,
	30	/* 18/140-18/149 */,
	30	/* 18/150-18/159 */,
	30	/* 18/160-18/169 */,
	30	/* 18/170-18/179 */,
	30	/* 18/180-18/189 */,
	30	/* 18/190-18/199 */,
	30	/* 18/200-18/209 */,
	30	/* 18/210-18/219 */,
	30	/* 18/220+ */
};


/*
 * Stat Table (STR) -- weapon weight limit in pounds
 */
byte adj_str_hold[] =
{
	4	/* 3 */,
	5	/* 4 */,
	6	/* 5 */,
	7	/* 6 */,
	8	/* 7 */,
	10	/* 8 */,
	12	/* 9 */,
	14	/* 10 */,
	16	/* 11 */,
	18	/* 12 */,
	20	/* 13 */,
	22	/* 14 */,
	24	/* 15 */,
	26	/* 16 */,
	28	/* 17 */,
	30	/* 18/00-18/09 */,
	30	/* 18/10-18/19 */,
	35	/* 18/20-18/29 */,
	40	/* 18/30-18/39 */,
	45	/* 18/40-18/49 */,
	50	/* 18/50-18/59 */,
	55	/* 18/60-18/69 */,
	60	/* 18/70-18/79 */,
	65	/* 18/80-18/89 */,
	70	/* 18/90-18/99 */,
	80	/* 18/100-18/109 */,
	80	/* 18/110-18/119 */,
	80	/* 18/120-18/129 */,
	80	/* 18/130-18/139 */,
	80	/* 18/140-18/149 */,
	90	/* 18/150-18/159 */,
	90	/* 18/160-18/169 */,
	90	/* 18/170-18/179 */,
	90	/* 18/180-18/189 */,
	90	/* 18/190-18/199 */,
	100	/* 18/200-18/209 */,
	100	/* 18/210-18/219 */,
	100	/* 18/220+ */
};


/*
 * Stat Table (STR) -- digging value
 */
byte adj_str_dig[] =
{
	0	/* 3 */,
	0	/* 4 */,
	1	/* 5 */,
	2	/* 6 */,
	3	/* 7 */,
	4	/* 8 */,
	4	/* 9 */,
	5	/* 10 */,
	5	/* 11 */,
	6	/* 12 */,
	6	/* 13 */,
	7	/* 14 */,
	7	/* 15 */,
	8	/* 16 */,
	8	/* 17 */,
	9	/* 18/00-18/09 */,
	10	/* 18/10-18/19 */,
	12	/* 18/20-18/29 */,
	15	/* 18/30-18/39 */,
	20	/* 18/40-18/49 */,
	25	/* 18/50-18/59 */,
	30	/* 18/60-18/69 */,
	35	/* 18/70-18/79 */,
	40	/* 18/80-18/89 */,
	45	/* 18/90-18/99 */,
	50	/* 18/100-18/109 */,
	55	/* 18/110-18/119 */,
	60	/* 18/120-18/129 */,
	65	/* 18/130-18/139 */,
	70	/* 18/140-18/149 */,
	75	/* 18/150-18/159 */,
	80	/* 18/160-18/169 */,
	85	/* 18/170-18/179 */,
	90	/* 18/180-18/189 */,
	95	/* 18/190-18/199 */,
	100	/* 18/200-18/209 */,
	100	/* 18/210-18/219 */,
	100	/* 18/220+ */
};


/*
 * Stat Table (STR) -- help index into the "blow" table
 */
byte adj_str_blow[] =
{
	3	/* 3 */,
	4	/* 4 */,
	5	/* 5 */,
	6	/* 6 */,
	7	/* 7 */,
	8	/* 8 */,
	9	/* 9 */,
	10	/* 10 */,
	11	/* 11 */,
	12	/* 12 */,
	13	/* 13 */,
	14	/* 14 */,
	15	/* 15 */,
	16	/* 16 */,
	17	/* 17 */,
	20 /* 18/00-18/09 */,
	30 /* 18/10-18/19 */,
	40 /* 18/20-18/29 */,
	50 /* 18/30-18/39 */,
	60 /* 18/40-18/49 */,
	70 /* 18/50-18/59 */,
	80 /* 18/60-18/69 */,
	90 /* 18/70-18/79 */,
	100 /* 18/80-18/89 */,
	110 /* 18/90-18/99 */,
	120 /* 18/100-18/109 */,
	130 /* 18/110-18/119 */,
	140 /* 18/120-18/129 */,
	150 /* 18/130-18/139 */,
	160 /* 18/140-18/149 */,
	170 /* 18/150-18/159 */,
	180 /* 18/160-18/169 */,
	190 /* 18/170-18/179 */,
	200 /* 18/180-18/189 */,
	210 /* 18/190-18/199 */,
	220 /* 18/200-18/209 */,
	230 /* 18/210-18/219 */,
	240 /* 18/220+ */
};


/*
 * Stat Table (DEX) -- index into the "blow" table
 */
byte adj_dex_blow[] =
{
	0	/* 3 */,
	0	/* 4 */,
	0	/* 5 */,
	0	/* 6 */,
	0	/* 7 */,
	0	/* 8 */,
	0	/* 9 */,
	1	/* 10 */,
	1	/* 11 */,
	1	/* 12 */,
	1	/* 13 */,
	1	/* 14 */,
	1	/* 15 */,
	1	/* 16 */,
	1	/* 17 */,
	1	/* 18/00-18/09 */,
	2	/* 18/10-18/19 */,
	2	/* 18/20-18/29 */,
	2	/* 18/30-18/39 */,
	2	/* 18/40-18/49 */,
	3	/* 18/50-18/59 */,
	3	/* 18/60-18/69 */,
	4	/* 18/70-18/79 */,
	4	/* 18/80-18/89 */,
	5	/* 18/90-18/99 */,
	6	/* 18/100-18/109 */,
	7	/* 18/110-18/119 */,
	8	/* 18/120-18/129 */,
	9	/* 18/130-18/139 */,
	10	/* 18/140-18/149 */,
	11	/* 18/150-18/159 */,
	12	/* 18/160-18/169 */,
	14	/* 18/170-18/179 */,
	16	/* 18/180-18/189 */,
	18	/* 18/190-18/199 */,
	20	/* 18/200-18/209 */,
	20	/* 18/210-18/219 */,
	20	/* 18/220+ */
};


/*
 * Stat Table (DEX) -- chance of avoiding "theft" and "falling"
 */
byte adj_dex_safe[] =
{
	0	/* 3 */,
	1	/* 4 */,
	2	/* 5 */,
	3	/* 6 */,
	4	/* 7 */,
	5	/* 8 */,
	5	/* 9 */,
	6	/* 10 */,
	6	/* 11 */,
	7	/* 12 */,
	7	/* 13 */,
	8	/* 14 */,
	8	/* 15 */,
	9	/* 16 */,
	9	/* 17 */,
	10	/* 18/00-18/09 */,
	10	/* 18/10-18/19 */,
	15	/* 18/20-18/29 */,
	15	/* 18/30-18/39 */,
	20	/* 18/40-18/49 */,
	25	/* 18/50-18/59 */,
	30	/* 18/60-18/69 */,
	35	/* 18/70-18/79 */,
	40	/* 18/80-18/89 */,
	45	/* 18/90-18/99 */,
	50	/* 18/100-18/109 */,
	60	/* 18/110-18/119 */,
	70	/* 18/120-18/129 */,
	80	/* 18/130-18/139 */,
	90	/* 18/140-18/149 */,
	100	/* 18/150-18/159 */,
	100	/* 18/160-18/169 */,
	100	/* 18/170-18/179 */,
	100	/* 18/180-18/189 */,
	100	/* 18/190-18/199 */,
	100	/* 18/200-18/209 */,
	100	/* 18/210-18/219 */,
	100	/* 18/220+ */
};


/*
 * Stat Table (CON) -- base regeneration rate
 */
byte adj_con_fix[] =
{
	0	/* 3 */,
	0	/* 4 */,
	0	/* 5 */,
	0	/* 6 */,
	0	/* 7 */,
	0	/* 8 */,
	0	/* 9 */,
	0	/* 10 */,
	0	/* 11 */,
	0	/* 12 */,
	0	/* 13 */,
	1	/* 14 */,
	1	/* 15 */,
	1	/* 16 */,
	1	/* 17 */,
	2	/* 18/00-18/09 */,
	2	/* 18/10-18/19 */,
	2	/* 18/20-18/29 */,
	2	/* 18/30-18/39 */,
	2	/* 18/40-18/49 */,
	3	/* 18/50-18/59 */,
	3	/* 18/60-18/69 */,
	3	/* 18/70-18/79 */,
	3	/* 18/80-18/89 */,
	3	/* 18/90-18/99 */,
	4	/* 18/100-18/109 */,
	4	/* 18/110-18/119 */,
	5	/* 18/120-18/129 */,
	6	/* 18/130-18/139 */,
	6	/* 18/140-18/149 */,
	7	/* 18/150-18/159 */,
	7	/* 18/160-18/169 */,
	8	/* 18/170-18/179 */,
	8	/* 18/180-18/189 */,
	8	/* 18/190-18/199 */,
	9	/* 18/200-18/209 */,
	9	/* 18/210-18/219 */,
	9	/* 18/220+ */
};


/*
 * Stat Table (CON) -- extra half-hitpoints per level (plus 128)
 */
byte adj_con_mhp[] =
{
	128 + -5	/* 3 */,
	128 + -3	/* 4 */,
	128 + -2	/* 5 */,
	128 + -1	/* 6 */,
	128 + 0	/* 7 */,
	128 + 0	/* 8 */,
	128 + 0	/* 9 */,
	128 + 0	/* 10 */,
	128 + 0	/* 11 */,
	128 + 0	/* 12 */,
	128 + 0	/* 13 */,
	128 + 0	/* 14 */,
	128 + 1	/* 15 */,
	128 + 1	/* 16 */,
	128 + 2	/* 17 */,
	128 + 3	/* 18/00-18/09 */,
	128 + 4	/* 18/10-18/19 */,
	128 + 4	/* 18/20-18/29 */,
	128 + 4	/* 18/30-18/39 */,
	128 + 4	/* 18/40-18/49 */,
	128 + 5	/* 18/50-18/59 */,
	128 + 6	/* 18/60-18/69 */,
	128 + 7	/* 18/70-18/79 */,
	128 + 8	/* 18/80-18/89 */,
	128 + 9	/* 18/90-18/99 */,
	128 + 10	/* 18/100-18/109 */,
	128 + 11	/* 18/110-18/119 */,
	128 + 12	/* 18/120-18/129 */,
	128 + 13	/* 18/130-18/139 */,
	128 + 14	/* 18/140-18/149 */,
	128 + 15	/* 18/150-18/159 */,
	128 + 16	/* 18/160-18/169 */,
	128 + 18	/* 18/170-18/179 */,
	128 + 20	/* 18/180-18/189 */,
	128 + 22	/* 18/190-18/199 */,
	128 + 25	/* 18/200-18/209 */,
	128 + 25	/* 18/210-18/219 */,
	128 + 25	/* 18/220+ */
};


/*
 * This table is used to help calculate the number of blows the player can
 * make in a single round of attacks (one player turn) with a normal weapon.
 *
 * This number ranges from a single blow/round for weak players to up to six
 * blows/round for powerful warriors.
 *
 * Note that certain artifacts and ego-items give "bonus" blows/round.
 *
 * First, from the player class, we extract some values:
 *
 *    Warrior --> num = 6; mul = 5; div = MAX(30, weapon_weight);
 *    Mage    --> num = 4; mul = 2; div = MAX(40, weapon_weight);
 *    Priest  --> num = 5; mul = 3; div = MAX(35, weapon_weight);
 *    Ranger  --> num = 5; mul = 4; div = MAX(35, weapon_weight);
 *    Paladin --> num = 5; mul = 4; div = MAX(30, weapon_weight);
 *
 * To get "P", we look up the relevant "adj_str_blow[]" (see above),
 * multiply it by "mul", and then divide it by "div", rounding down.
 *
 * To get "D", we look up the relevant "adj_dex_blow[]" (see above),
 * note especially column 6 (DEX 18/101) and 11 (DEX 18/150).
 *
 * The player gets "blows_table[P][D]" blows/round, as shown below,
 * up to a maximum of "num" blows/round, plus any "bonus" blows/round.
 */
byte blows_table[12][12] =
{
	/* P/D */
	/* 0,   1,   2,   3,   4,   5,   6,   7,   8,   9,  10,  11+ */

	/* 0  */
	{  1,   1,   1,   1,   1,   1,   2,   2,   2,   2,   2,   3 },

	/* 1  */
	{  1,   1,   1,   1,   2,   2,   3,   3,   3,   4,   4,   4 },

	/* 2  */
	{  1,   1,   2,   2,   3,   3,   4,   4,   4,   5,   5,   5 },

	/* 3  */
	{  1,   2,   2,   3,   3,   4,   4,   4,   5,   5,   5,   5 },

	/* 4  */
	{  1,   2,   2,   3,   3,   4,   4,   5,   5,   5,   5,   5 },

	/* 5  */
	{  2,   2,   3,   3,   4,   4,   5,   5,   5,   5,   5,   6 },

	/* 6  */
	{  2,   2,   3,   3,   4,   4,   5,   5,   5,   5,   5,   6 },

	/* 7  */
	{  2,   3,   3,   4,   4,   4,   5,   5,   5,   5,   5,   6 },

	/* 8  */
	{  3,   3,   3,   4,   4,   4,   5,   5,   5,   5,   6,   6 },

	/* 9  */
	{  3,   3,   4,   4,   4,   4,   5,   5,   5,   5,   6,   6 },

	/* 10 */
	{  3,   3,   4,   4,   4,   4,   5,   5,   5,   6,   6,   6 },

	/* 11+ */
	{  3,   3,   4,   4,   4,   4,   5,   5,   6,   6,   6,   6 },
};

/*
 * This table allows quick conversion from "speed" to "energy"
 * The basic function WAS ((S>=110) ? (S-110) : (100 / (120-S)))
 * Note that table access is *much* quicker than computation.
 *
 * Note that the table has been changed at high speeds.  From
 * "Slow (-40)" to "Fast (+30)" is pretty much unchanged, but
 * at speeds above "Fast (+30)", one approaches an asymptotic
 * effective limit of 50 energy per turn.  This means that it
 * is relatively easy to reach "Fast (+30)" and get about 40
 * energy per turn, but then speed becomes very "expensive",
 * and you must get all the way to "Fast (+50)" to reach the
 * point of getting 45 energy per turn.  After that point,
 * furthur increases in speed are more or less pointless,
 * except to balance out heavy inventory.
 *
 * Note that currently the fastest monster is "Fast (+30)".
 *
 * It should be possible to lower the energy threshhold from
 * 100 units to 50 units, though this may interact badly with
 * the (compiled out) small random energy boost code.  It may
 * also tend to cause more "clumping" at high speeds.
 */
byte extract_energy[200] =
{
	/* Slow */     1,  1,  1,  1,  1,  1,  1,  1,  1,  1,
	/* Slow */     1,  1,  1,  1,  1,  1,  1,  1,  1,  1,
	/* Slow */     1,  1,  1,  1,  1,  1,  1,  1,  1,  1,
	/* Slow */     1,  1,  1,  1,  1,  1,  1,  1,  1,  1,
	/* Slow */     1,  1,  1,  1,  1,  1,  1,  1,  1,  1,
	/* Slow */     1,  1,  1,  1,  1,  1,  1,  1,  1,  1,
	/* S-50 */     1,  1,  1,  1,  1,  1,  1,  1,  1,  1,
	/* S-40 */     2,  2,  2,  2,  2,  2,  2,  2,  2,  2,
	/* S-30 */     2,  2,  2,  2,  2,  2,  2,  3,  3,  3,
	/* S-20 */     3,  3,  3,  3,  3,  4,  4,  4,  4,  4,
	/* S-10 */     5,  5,  5,  5,  6,  6,  7,  7,  8,  9,
	/* Norm */    10, 11, 12, 13, 14, 15, 16, 17, 18, 19,
	/* F+10 */    20, 21, 22, 23, 24, 25, 26, 27, 28, 29,
	/* F+20 */    30, 31, 32, 33, 34, 35, 36, 36, 37, 37,
	/* F+30 */    38, 38, 39, 39, 40, 40, 40, 41, 41, 41,
	/* F+40 */    42, 42, 42, 43, 43, 43, 44, 44, 44, 44,
	/* F+50 */    45, 45, 45, 45, 45, 46, 46, 46, 46, 46,
	/* F+60 */    47, 47, 47, 47, 47, 48, 48, 48, 48, 48,
	/* F+70 */    49, 49, 49, 49, 49, 49, 49, 49, 49, 49,
	/* Fast */    49, 49, 49, 49, 49, 49, 49, 49, 49, 49,
};

/*
 * Base experience levels, may be adjusted up for race and/or class
 */
s32b player_exp[PY_MAX_LEVEL] =
{
	10,
	25,
	45,
	70,
	100,
	140,
	200,
	280,
	380,
	500,
	650,
	850,
	1100,
	1400,
	1800,
	2300,
	2900,
	3600,
	4400,
	5400,
	6800,
	8400,
	10200,
	12500,
	17500,
	25000,
	35000L,
	50000L,
	75000L,
	100000L,
	150000L,
	200000L,
	275000L,
	350000L,
	450000L,
	550000L,
	700000L,
	850000L,
	1000000L,
	1250000L,
	1500000L,
	1800000L,
	2100000L,
	2400000L,
	2700000L,
	3000000L,
	3500000L,
	4000000L,
	4500000L,
	5000000L
};


/*
 * Player Sexes
 *
 *	Title,
 *	Winner
 */
player_sex sex_info[MAX_SEXES] =
{
	{
		"Female",
		"Queen"
	},

	{
		"Male",
		"King"
	}
};


player_race_special race_special_info[2][RACE_SPECIAL_LEVELS] =
/* Title, stat bonuses, skill bonuses, flag1, flag2, flag3, extra */
{
/* Angels and Demons - each line is a 5-level bracket. Extra is the index of racial ability */
	{ /*Angel*/
		{ "Cherub",		{0,0,0,0,0,0}	,{0, 0, 0,0,0,0, 0,0,0,0,0},0x00000000L,0x00000000L,0x00000000L,0,1},
		{ "Seraph",		{1,0,1,0,2,0}	,{0, 1, 1,0,0,0, 1,0,0,0,0},0x10000000L,0x00000000L,0x00000040L,0,2},
		{ "Deva",		{3,1,2,0,4,1}	,{0, 3, 3,0,0,0, 4,0,0,0,0},0x10000000L,0x00000800L,0x00000042L,0,3},
		{ "Deva",		{3,1,2,0,4,1}	,{0, 3, 3,0,0,0, 4,0,0,0,0},0x10000000L,0x00000800L,0x00000042L,0,3},
		{ "Planetar",	{3,1,2,0,4,2}	,{0, 6, 7,0,0,0, 8,1,0,0,0},0x90000000L,0x00004800L,0x00000052L,0,3},
		{ "Planetar",	{3,1,2,0,4,2}	,{0, 6, 7,0,0,0, 8,1,0,0,0},0x90000000L,0x00004800L,0x00000052L,0,3},
		{ "Archon",		{4,2,3,0,5,3}	,{0, 9,11,0,0,0,12,3,0,0,0},0x90000000L,0x000149C0L,0x00000052L,0,4},
		{ "Archon",		{4,2,3,0,5,3}	,{0, 9,11,0,0,0,12,3,0,0,0},0x90000000L,0x000149C0L,0x00000052L,0,4},
		{ "Solar",		{5,3,4,0,6,4}	,{0,12,16,0,0,0,16,5,0,0,0},0x90000000L,0x00014BF0L,0x00000057L,0,5},
		{ "Solar",		{5,3,4,0,6,4}	,{0,12,16,0,0,0,16,5,0,0,0},0x90000000L,0x00014BF0L,0x00000057L,0,5},
		{ "Archangel",	{6,3,4,0,7,5}	,{0,16,22,0,0,0,24,9,0,0,0},0x90000000L,0x00414BF0L,0x00000057L,0,5}
	},
	{ /*Demon*/
		{ "Lemure",		{0,0,0,0, 0, 0}	,{0, 0, 0,	0,0,0, 0, 0, 0,0,0},0x00000000L,0x00000000L,0x00000000L,0,0},
		{ "Quasit",		{2,0,0,2, 2, 0}	,{0, 0, 0,	0,0,0, 1, 1, 1,0,0},0x00000000L,0x00000800L,0x00000000L,0,0},
		{ "Imp",		{3,2,0,3, 3,-1}	,{0, 2, 0,	0,0,0, 2, 1, 1,0,0},0x00000000L,0x00000840L,0x00000000L,0,0},
		{ "Tengu",		{4,4,1,4, 3,-1}	,{0, 4, 1, -1,0,0, 4, 2, 1,0,0},0x00000000L,0x00000C40L,0x00000000L,0,6},
		{ "Bodak",      {4,4,1,4, 4,-1}	,{0, 6, 3, -2,0,0, 8, 4, 2,0,0},0x04000000L,0x00008C40L,0x00000000L,0,7},
		{ "Vrock",      {4,4,2,4, 5,-2}	,{0, 8, 5, -4,0,0,12, 6, 4,0,0},0x04000000L,0x00008C50L,0x00000000L,0,7},
		{ "Hezrou",		{5,4,2,4, 6,-2}	,{0,10, 7, -5,0,0,16, 8, 6,0,0},0x44000000L,0x00008C50L,0x00000000L,0,7},
		{ "Glabrezu",   {6,5,3,4, 7,-2}	,{0,13, 9, -7,0,0,20,10, 8,0,0},0x44000000L,0x00208C50L,0x00000000L,0,8},
		{ "Nalfeshnee", {7,6,3,4, 8,-3}	,{0,16,11, -8,0,0,24,12,10,0,0},0x44000000L,0x00208C50L,0x00000004L,0,8},
		{ "Pit Fiend",	{8,6,4,4, 9,-3}	,{0,19,13, -9,0,0,26,14,12,0,0},0x44000000L,0x00608C50L,0x00000004L,0,8},
		{ "Balrog",		{9,7,4,5,10,-4}	,{0,22,15,-10,0,0,30,16,12,0,0},0x44000000L,0x00608C14L,0x00000004L,0,9}
	}	
};

spell_book instruments[SV_MAX_MUSIC] =
{
	{
		/* Lyre (sval 0) */
		0,
		{
			{ SP_LIGHT_AREA,		"Ballad of Light",				 1,  1, 25,   0},	
			{ SP_HEROISM,			"Ballad of Heroism",			 8,  7, 60,   0},	
			{ SP_RAGE,				"Ballad of Rage",				14, 20, 60,   0},	
			{ SP_RES_SOUND,			"Ballad of Sound Deflection",	18, 30, 75,   0},	
			{ SP_DESTROY_TRAP_DOOR,	"Ballad of Unbarring",			22, 20, 60,   0},	
			{ SP_RESISTANCE,		"Ballad of Resistance",			33, 30, 75,   0},	
			{ SP_RESILIENCE,		"Ballad of Resilience",			50, 80, 80,   0},	
			{ 0, NULL, 99,  0, 0, 0}, { 0, NULL, 99,  0, 0, 0},
			{ 0, NULL, 99,  0, 0, 0}
		}
	},
	{
		/* Horn (sval 1) */
		0,
		{
			{ SP_BOLT_SOUND,		"Stunning Note",				 2,  2, 35,   0},	
			{ SP_BOLT_FORCE,		"Crushing Note",				 5,  5, 45,   0},	
			{ SP_STONE_TO_MUD,		"Bring Down Walls",				10, 10, 60,   0},	
			{ SP_EARTHQUAKE,		"Call Earthquake",				20, 25, 60,   0},	
			{ SP_WORD_DESTRUCTION,	"Tone of Destruction",			40, 45, 75,   0},	
			{ SP_MASS_GENOCIDE,		"Tone of Death",				50,100, 80,   0},	
			{ 0, NULL, 99,  0, 0, 0}, { 0, NULL, 99,  0, 0, 0},
			{ 0, NULL, 99,  0, 0, 0}, { 0, NULL, 99,  0, 0, 0}
		}
	},
	{
		/* Flute (sval 2) */
		0,
		{
			{ SP_HEAL_1,			"Lesser Healing Melody",		 2,  2, 20,   0},	
			{ SP_POLY_MONSTER,		"Changing Melody",				15, 10, 40,   0},	
			{ SP_HEAL_3,			"Greater Healing Melody",		20, 14, 40,   0},	
			{ SP_CURE_POIS_DISE,	"Curing Melody",				35, 50, 90,   0}, 
			{ SP_WORD_RECALL,		"Recall Melody",				40, 75, 80,   0},	
			{ SP_INVIS,				"Unseen Melody",				45,	40, 80,   0},	
			{ 0, NULL, 99,  0, 0, 0}, { 0, NULL, 99,  0, 0, 0},
			{ 0, NULL, 99,  0, 0, 0}, { 0, NULL, 99,  0, 0, 0}
		}
	},
	{
		/* Lute (sval 3) */
		0,
		{
			{ SP_TELE_10,			"Dance of Dislocation",			 5,  3, 20,   0},	
			{ SP_CONFUSE_ALL,		"Dance of Confusion",			10, 30, 30,   0},	
			{ SP_BALL_SOUND,		"Dance of Damaging",			18, 15, 40,   0},	
			{ SP_TELE_MAJOR,		"Dance of Teleportation",		25, 15, 50,   0},	
			{ SP_TELE_LEVEL,		"Dance of Teleport Level",		40, 50, 60,   0},	
			{ SP_ALTER_REALITY,		"Dance of Alter Reality",		50,	50, 70,   0},	
			{ 0, NULL, 99,  0, 0, 0}, { 0, NULL, 99,  0, 0, 0},
			{ 0, NULL, 99,  0, 0, 0}, { 0, NULL, 99,  0, 0, 0}
		}
	},
	{
		/* Drum (sval 4) */
		0,
		{
			{ SP_AGGRAVATE,			"Aggravation Tempo",			 1,  1, 10,   0},	
			{ SP_SCARE_ALL,			"Fear Tempo",					 8, 15, 30,   0},	
			{ SP_HASTE_SELF_1,		"Fast Tempo",					15, 15, 40,   0},	
			{ SP_SLOW_ALL,			"Slow Tempo",					28, 40, 60,   0},	
			{ SP_TELE_OTHER,		"Away Tempo",					32, 25, 60,   0},	
			{ SP_BANISH,			"Banish Tempo",					45,	40, 70,   0},	
			{ 0, NULL, 99,  0, 0, 0}, { 0, NULL, 99,  0, 0, 0},
			{ 0, NULL, 99,  0, 0, 0}, { 0, NULL, 99,  0, 0, 0}
		}
	},
	{
		/* Harp (sval 5) */
		0,
		{
			{ SP_CALM_MONSTER,		"Song of Calmness",				 1,  4, 20,   0},	
			{ SP_CALM_ANIMALS,		"Song of Soothing the Beast",	10, 30, 60,   0},	
			{ SP_CALM_NON_EVIL,		"Song of Peace",				20, 45, 80,   0},	
			{ SP_CALM_ALL,			"Song of Great Peace",			30, 65, 90,   0},	
			{ SP_HEAL_5,			"Song of Health",				45, 85, 95,   0},	
			{ SP_DISPEL_EVIL_1,		"Song of Holyness",				50,	30, 95,   0},	
			{ 0, NULL, 99,  0, 0, 0}, { 0, NULL, 99,  0, 0, 0},
			{ 0, NULL, 99,  0, 0, 0}, { 0, NULL, 99,  0, 0, 0}
		}
	}
};

spell_book books[SV_MAX_BOOKS] = 
{
	{
		/* Magic for Beginners (sval 0) */
		SBF_MAGIC,
		{
			{ SP_BOLT_MISSILE,		"Magic Missile",			 1,  1, 22,   4},
			{ SP_TELE_10,			"Phase Door",  				 1,  1, 24,   4},	
			{ SP_LIGHT_AREA,		"Light Area",				 1,  2, 26,   4},	
			{ SP_DETECT_MONSTERS,	"Detect Monsters",			 2,  2, 23,   4},
			{ SP_BALL_POISON_1,		"Stinking Cloud",			 3,  3, 27,   3},  
			{ SP_CONFUSE_MONSTER,	"Confuse Monster",			 3,  3, 30,   1},
			{ SP_DETECT_TRAP_DOOR,	"Find Hidden Traps/Doors",	 4,  3, 25,   1},
			{ 0, NULL, 99,  0, 0, 0}, { 0, NULL, 99,  0, 0, 0},
			{ 0, NULL, 99,  0, 0, 0}
		}
	},
	{
		/* Conjurings and Tricks (sval 1) */
		SBF_MAGIC,
		{
			{ SP_ABSORB_HIT,		"Absorb hit",				 4,  3, 25,   3},	
			{ SP_BOLT_ELEC,			"Lightning Bolt",			 4,  4, 30,   4},
			{ SP_DESTROY_TRAP_DOOR,	"Trap/Door Destruction",	 5,  5, 30,   6},
			{ SP_SLEEP_MONSTER,		"Sleep Monster",			 5,  5, 30,   4},
			{ SP_BOLT_FROST,		"Frost Bolt",				 6,  5, 40,   6},
			{ SP_TELE_MAJOR,		"Teleport Self",			 7,  6, 35,   5},
			{ SP_BEAM_WEAK_LITE,	"Spear of Light",			 8,  7, 30,   5},
			{ SP_STONE_TO_MUD,		"Turn Stone to Mud",		 9,  7, 44,   8},
			{ SP_SLEEP_ALL,			"Sleep All",				 9,  7, 45,   8},
			{ 0, NULL, 99,  0, 0, 0}
		}
	},
	{
			/* Incantations and Illusions (sval 2) */
		SBF_MAGIC,
		{
			{ SP_SATISFY_HUNGER,	"Satisfy Hunger",			 9,  7, 45,   8},
			{ SP_RECHARGE_1,		"Lesser Recharge Item",		 9,  7, 75,   9},
			{ SP_BOLT_ACID,			"Acid Bolt",				10,  7, 50,  12},	
			{ SP_IDENTIFY,			"Identify",					11,  7, 75,   6},
			{ SP_CREATE_DOOR,		"Door Creation",			11,  7, 20,  28},	
			{ SP_DETECT_ENCHANT,	"Detect Enchantment",		12,	 7,	40,  10},
			{ SP_BOLT_FIRE,			"Fire Bolt",				14,  9, 50,   6},	
			{ SP_SLOW_MONSTER,		"Slow Monster",				16,  9, 50,   7},	
			{ 0, NULL, 99,  0, 0, 0}, { 0, NULL, 99,  0, 0, 0}
		}
	},
	{		
			/* Sorcery and Evocations (sval 3) */
		SBF_MAGIC,
		{
			{ SP_BALL_FROST_1,		"Frost Ball",				17, 12, 55,   8},	
			{ SP_BLIND_MONSTER,		"Blind Monster",			19, 12, 60,   8},
			{ SP_RECHARGE_3,		"Recharge Item",			20, 12, 90,   8},	
			{ SP_TELE_OTHER,		"Teleport Other",			23, 12, 60,   8},	
			{ SP_BALL_FIRE,			"Fire Ball",				25, 18, 65,  12},	
			{ SP_HASTE_SELF_1,		"Haste Self",				29, 12, 65,  10},	
			{ SP_WORD_DESTRUCTION,	"Word of Destruction",		33, 21, 80,  15},	
			{ SP_GENOCIDE,			"Genocide",					42, 25, 95,  21},	
			{ 0, NULL, 99,  0, 0, 0}, { 0, NULL, 99,  0, 0, 0}
		}
	},
	{
			/* Resistance of Scarabtarices (sval 4) */
		(SBF_MAGIC | SBF_GOOD),
		{
			{ SP_RES_FIRE,			"Resist Fire",				 4,  5, 50,  20},
			{ SP_RES_COLD,			"Resist Cold",				 4,  5, 50,  20},
			{ SP_RES_ACID_ELEC,		"Resist Acid & Electricity", 4,  5, 50,  20},
			{ SP_RES_POISON,		"Resist Poison",			 8, 10, 75,  40},
			{ SP_RESISTANCE,		"Resistance",				15, 20, 85,  60},
			{ 0, NULL, 99,  0, 0, 0}, { 0, NULL, 99,  0, 0, 0},
			{ 0, NULL, 99,  0, 0, 0}, { 0, NULL, 99,  0, 0, 0},
			{ 0, NULL, 99,  0, 0, 0}
		}
	},
	{
			/* Mordenkainen's Escapes (sval 5) */
		(SBF_MAGIC | SBF_GOOD),
		{
			{ SP_CREATE_STAIR,		"Stair Creation",			 9, 12, 40,  20},	
			{ SP_TELE_LEVEL,		"Teleport Level",			15, 17, 60,  29},	
			{ SP_TELE_CONTROL,		"Dimension Door",			15, 25, 70,  30},	
			{ SP_EARTHQUAKE,		"Earthquake",				20, 18, 60,  24},	
			{ SP_WORD_RECALL,		"Word of Recall",			25, 25, 75,  19},   
			{ 0, NULL, 99,  0, 0, 0}, { 0, NULL, 99,  0, 0, 0},
			{ 0, NULL, 99,  0, 0, 0}, { 0, NULL, 99,  0, 0, 0},
			{ 0, NULL, 99,  0, 0, 0}
		}
	},
	{
		/* Kelek's Grimoire of Power (sval 6) */
		(SBF_MAGIC | SBF_GOOD),
		{
			{ SP_DETECT_EVIL,		"Detect Evil",				 5,  5, 50,   8},	
			{ SP_POLY_MONSTER,		"Polymorph Other",			11,  7, 45,   9},
			{ SP_RECHARGE_4,		"Greater Recharge Item",	25, 30, 95, 160},	
			{ SP_GENOCIDE,			"Genocide",					30, 50, 70,  40},	
			{ SP_MASS_GENOCIDE,		"Mass Genocide",			40, 75, 80, 100},	
			{ 0, NULL, 99,  0, 0, 0}, { 0, NULL, 99,  0, 0, 0},
			{ 0, NULL, 99,  0, 0, 0}, { 0, NULL, 99,  0, 0, 0},
			{ 0, NULL, 99,  0, 0, 0}
		}
	},
	{
		/* Tenser's transformations... (sval 7) */
		(SBF_MAGIC | SBF_GOOD),
		{
			{ SP_HEROISM,			"Heroism",					 5,  5, 50,  80},
			{ SP_SHIELD,			"Shield",					10, 12, 75, 120},	
			{ SP_INVIS,				"Temporary Invisibility",	22, 25,	60,  50},
			{ SP_HASTE_SELF_2,		"Essence of Speed",			26, 30, 50, 250},	
			{ SP_RESILIENCE,		"Globe of Resilience",		46, 70, 75, 250},	
			{ 0, NULL, 99,  0, 0, 0}, { 0, NULL, 99,  0, 0, 0},
			{ 0, NULL, 99,  0, 0, 0}, { 0, NULL, 99,  0, 0, 0},
			{ 0, NULL, 99,  0, 0, 0}
		}
	},
	{
		/* Raal's Tome of Destruction (sval 8) */
		(SBF_MAGIC | SBF_GOOD),
		{
			{ SP_BOLT_MANA,			"Mana Bolt",				10,  4, 50,  12},	
			{ SP_BALL_POISON_2,		"Cloud Kill",				12,  9, 60,  16},	
			{ SP_BALL_ACID,			"Acid Ball",				20, 13, 70,  20},	
			{ SP_BALL_FROST_2,		"Ice Storm",				25, 32, 85,  34},	
			{ SP_BALL_METEOR,		"Meteor Swarm",				33, 20, 75,  29},	
			{ SP_BALL_MANA,			"Mana Storm",				42, 45, 95, 200},	
			{ 0, NULL, 99,  0, 0, 0}, { 0, NULL, 99,  0, 0, 0},
			{ 0, NULL, 99,  0, 0, 0}, { 0, NULL, 99,  0, 0, 0}
		}
	},
	{
		/* The Lore of the Hunter (sval 9) */
		(SBF_MAGIC | SBF_GOOD),
		{
			{ SP_BRAND_AMMO_ANIMAL,	"Hunter's Arrows & Bolts",  18, 25, 60,	  6},
			{ SP_CALM_ANIMALS,		"Calm Animals",				23, 35, 55,   8},
			{ SP_BRAND_AMMO_WOUND,	"Sharpen Arrows & Bolts",   28, 25, 70,   2},
			{ SP_HASTE_SELF_1,		"Haste Self",				33, 12, 90,  10},
			{ SP_BRAND_AMMO_ELEMNT,	"Elemental Arrows & Bolts", 43, 40, 80,  10},
			{ 0, NULL, 99,  0, 0, 0}, { 0, NULL, 99,  0, 0, 0},
			{ 0, NULL, 99,  0, 0, 0}, { 0, NULL, 99,  0, 0, 0},
			{ 0, NULL, 99,  0, 0, 0}
		}
	},
	{
		/* Novice's Handbook (sval 10) */
		SBF_PRAYER,
		{
			{ SP_DETECT_EVIL,		"Detect Evil",				 1,  1, 10,   4}, 
			{ SP_HEAL_1,			"Cure Light Wounds",		 1,  2, 15,   4}, 
			{ SP_BLESS,				"Bless",					 1,  2, 20,   4}, 
			{ SP_CURE_FEAR,			"Remove Fear",				 1,  2, 25,   4}, 
			{ SP_LIGHT_AREA,		"Call Light",				 3,  2, 25,   1}, 
			{ SP_DETECT_TRAP,		"Find Traps",				 3,  3, 27,   2}, 
			{ SP_DETECT_DOOR_STAIR,	"Detect Doors/Stairs",		 3,  3, 27,   2}, 
			{ SP_CURE_POISON_1,		"Slow Poison",				 3,  3, 28,   4}, 
			{ 0, NULL, 99,  0, 0, 0}, { 0, NULL, 99,  0, 0, 0}
		}
	},
	{
		/* Words of Wisdom (sval 11) */
		SBF_PRAYER,
		{
			{ SP_SCARE_MONSTER,		"Scare Monster",			 5,  4, 29,   3},
			{ SP_TELE_MINOR,		"Portal",					 5,  4, 30,   4},
			{ SP_HEAL_2A,			"Cure Serious Wounds",		 5,  4, 32,   4},
			{ SP_CHANT,				"Chant",					 5,  5, 34,   4},
			{ SP_SLEEP_ADJACENT,	"Sanctuary",				 7,  5, 36,   3},
			{ SP_SATISFY_HUNGER,	"Satisfy Hunger",			 7,  5, 38,   4},
			{ SP_REMOVE_CURSE_1,	"Remove Curse",				 7,  6, 38,   5},
			{ SP_RES_FIRE_COLD,		"Resist Heat and Cold",		 7,  7, 38,   5},
			{ 0, NULL, 99,  0, 0, 0}, { 0, NULL, 99,  0, 0, 0}
		}
	},
	{
		/* Chants and Blessings (sval 12) */
		SBF_PRAYER,
		{
			{ SP_CURE_POISON_2,		"Neutralize Poison",		 9,  6, 38,   4}, 
			{ SP_BALL_HOLY,			"Orb of Draining",			 9,  7, 38,   4}, 
			{ SP_HEAL_3,			"Cure Critical Wounds",		 9,  7, 40,   4}, 
			{ SP_CURE_DISEASE,		"Cure Disease",				10,  7, 40,   4}, 
			{ SP_SEE_INVIS,			"Sense Invisible",			11,  8, 42,   4}, 
			{ SP_PROT_EVIL,			"Protection from Evil",		11,  8, 42,   4}, 
			{ SP_EARTHQUAKE,		"Earthquake",				11,  9, 55,   5}, 
			{ SP_MAP_1,				"Sense Surroundings",		13, 10, 45,   4}, 
			{ SP_HEAL_4,			"Cure Mortal Wounds",		13, 11, 45,   4}, 
			{ 0, NULL, 99,  0, 0, 0}
		}
	},
	{
 		/* Exorcism and Dispelling (sval 13) */
		SBF_PRAYER,
		{
			{ SP_SCARE_UNDEAD,		"Turn Undead",				15, 12, 50,   5}, 
			{ SP_PRAYER,			"Prayer",					15, 14, 50,   5}, 
			{ SP_DISPEL_UNDEAD_1,	"Dispel Undead",			17, 14, 55,   7}, 
			{ SP_HEAL_5,			"Heal",						21, 16, 60,   7}, 
			{ SP_DISPEL_EVIL_1,		"Dispel Evil",				25, 20, 70,  12}, 
			{ SP_GLYPH_WARDING,		"Glyph of Warding",			33, 55, 90,  15}, 
			{ SP_WORD_HOLY,			"Holy Word",				39, 32, 95,  20}, 
			{ 0, NULL, 99,  0, 0, 0}, { 0, NULL, 99,  0, 0, 0},
			{ 0, NULL, 99,  0, 0, 0}
		}
	},
	{
		/* Ethereal openings (sval 14) */
		(SBF_PRAYER | SBF_GOOD),
		{
			{ SP_TELE_10,			"Blink",					 3,  3, 50,   6}, 
			{ SP_TELE_MAJOR,		"Teleport Self",			10, 10, 50,   8}, 
			{ SP_TELE_OTHER,		"Teleport Other",			20, 20, 80,  16}, 
			{ SP_TELE_LEVEL,		"Teleport Level",			30, 40, 75, 133}, 
			{ SP_WORD_RECALL,		"Word of Recall",			35, 50, 75,  11}, 
			{ SP_ALTER_REALITY,		"Alter Reality",			40, 60, 75, 250}, 
			{ 0, NULL, 99,  0, 0, 0}, { 0, NULL, 99,  0, 0, 0},
			{ 0, NULL, 99,  0, 0, 0}, { 0, NULL, 99,  0, 0, 0}
		}
	},
	{
		/* Godly Insights (sval 15) */
		(SBF_PRAYER | SBF_GOOD),
		{
			{ SP_DETECT_MONSTERS,	"Detect Monsters",			 3,  3, 50,   2}, 
			{ SP_DETECT_ALL,		"Detection",				10,  8, 80,  20}, 
			{ SP_IDENTIFY,			"Perception",				20, 20, 80,  20}, 
			{ SP_PROBE,				"Probing",					25, 20, 80, 150}, 
			{ SP_MAP_2,				"Clairvoyance",				35, 50, 80, 230}, 
			{ 0, NULL, 99,  0, 0, 0}, { 0, NULL, 99,  0, 0, 0},
			{ 0, NULL, 99,  0, 0, 0}, { 0, NULL, 99,  0, 0, 0},
			{ 0, NULL, 99,  0, 0, 0}
		}
	},
	{
		/* Purifications and Healing (sval 16) */
		(SBF_PRAYER | SBF_GOOD),
		{
			{ SP_HEAL_2B,			"Cure Serious Wounds",		15,  5, 50,  25}, 
			{ SP_HEAL_4,			"Cure Mortal Wounds",		17,  7, 60,  45}, 
			{ SP_HEAL_6,			"Healing",					30, 50, 80, 130}, 
			{ SP_RESTORE_STATS,		"Restoration",				35, 70, 90, 230}, 
			{ SP_RESTORE_LEVEL,		"Remembrance",				35, 70, 90, 250}, 
			{ SP_CALM_NON_EVIL,		"Holy Peace",				45, 50, 80, 200}, 
			{ 0, NULL, 99,  0, 0, 0}, { 0, NULL, 99,  0, 0, 0},
			{ 0, NULL, 99,  0, 0, 0}, { 0, NULL, 99,  0, 0, 0}
		}
	},
	{
		/* Holy Infusions (sval 17) */
		(SBF_PRAYER | SBF_GOOD),
		{
			{ SP_DESTROY_TRAP_DOOR, "Unbarring Ways",			 5,  6, 50,  40}, 
			{ SP_RECHARGE_2,		"Recharging",				15, 20, 80,  25}, 
			{ SP_REMOVE_CURSE_2,	"Dispel Curse",				25, 40, 80, 160}, 
			{ SP_ENCHANT_WEAP,		"Enchant Weapon",			35, 50, 80, 230}, 
			{ SP_ENCHANT_ARMR,		"Enchant Armour",			37, 60, 85, 250}, 
			{ SP_BRAND_SHOT_HOLY,	"Sanctify Shots",			45, 95, 85, 250}, 
			{ 0, NULL, 99,  0, 0, 0}, { 0, NULL, 99,  0, 0, 0},
			{ 0, NULL, 99,  0, 0, 0}, { 0, NULL, 99,  0, 0, 0}
		}
	},
	{
		/* Wrath of God (sval 18) */
		(SBF_PRAYER | SBF_GOOD),
		{
			{ SP_DISPEL_UNDEAD_2,	"Dispel Undead",			15,  7, 70,  25}, 
			{ SP_DISPEL_EVIL_2,		"Dispel Evil",				20, 10, 75,  60}, 
			{ SP_BANISH,			"Banishment",				25, 25, 80, 250}, 
			{ SP_WORD_DESTRUCTION,	"Word of Destruction",		35, 35, 80, 115}, 
			{ SP_ANNIHILATION,		"Annihilation",				45, 60, 75, 250}, 
			{ 0, NULL, 99,  0, 0, 0}, { 0, NULL, 99,  0, 0, 0},
			{ 0, NULL, 99,  0, 0, 0}, { 0, NULL, 99,  0, 0, 0},
			{ 0, NULL, 99,  0, 0, 0}
		}
	},
	{
		0,
		{
			{ 0, NULL, 99,  0, 0, 0}, { 0, NULL, 99,  0, 0, 0},
			{ 0, NULL, 99,  0, 0, 0}, { 0, NULL, 99,  0, 0, 0},
			{ 0, NULL, 99,  0, 0, 0}, { 0, NULL, 99,  0, 0, 0},
			{ 0, NULL, 99,  0, 0, 0}, { 0, NULL, 99,  0, 0, 0},
			{ 0, NULL, 99,  0, 0, 0}, { 0, NULL, 99,  0, 0, 0}
		}
	},
	{
		/* The Seven steps to transcendence (sval 20) */
		(SBF_MYSTIC | SBF_GOOD),
		{
			{ SP_CLEAR_MIND,		"Clarity of Mind",			 5,  5, 10,   4},
			{ SP_TELE_CONTROL,		"Mastery of Space",			10, 25, 60,   8}, 
			{ SP_RES_ELEMENTS,		"Power over Elements",		15, 30, 70,  16}, 
			{ SP_DETECT_ALL,		"Purity of vision",			20, 35, 80,  32},
			{ SP_CURE_BODY,			"Control of the Body",		30, 40, 90,  64}, 
			{ SP_RES_GREATER,		"One with the world",		40, 45,100, 128}, 
			{ SP_RESILIENCE,		"Mind over Matter",			50, 50,110, 250}, 
			{ 0, NULL, 99,  0, 0, 0}, { 0, NULL, 99,  0, 0, 0},
			{ 0, NULL, 99,  0, 0, 0}
		}
	},
	{
		/* The Teachings of the Ninth Master (sval 21) */
		(SBF_MYSTIC | SBF_GOOD),
		{
			{ SP_POLY_MONSTER,		"Change Other",				 5, 10, 45,  10},
			{ SP_BOLT_MANA,			"Mana Bolt",				10,  5, 50,  15},	
			{ SP_INVIS,				"Vanish from Sight",		20, 20,	60,  50},
			{ SP_BANISH,			"Banish Enemies",			25, 30, 80, 200}, 
			{ SP_HEAL_5,			"Heal",						30, 20, 60,  20}, 
			{ SP_HASTE_SELF_2,		"Essence of Speed",			35, 60, 50, 200},	
			{ SP_ALTER_REALITY,		"Alter Reality",			40, 80, 75, 200}, 
			{ SP_GLYPH_WARDING,		"Glyph of Warding",			45, 60, 90,  20}, 
			{ SP_BALL_METEOR,		"Meteor Swarm",				50, 25, 75,  50},	
			{ 0, NULL, 99,  0, 0, 0}
		}
	},
	{
		/* The Codex of Ultimate Wisdom (sval 22) */
		(SBF_CODEX | SBF_GOOD | SBF_ARTIFACT),
		{
			{ SP_IDENTIFY,			"Perception",				 1, 20, 50,   1}, 
			{ SP_SELF_KNOW,			"Self Knowledge",			45, 90,102,   2}, 
			{ SP_IDENTIFY_FULL,		"Revelation",				50,100,107,   5},
			{ 0, NULL, 99,  0, 0, 0}, { 0, NULL, 99,  0, 0, 0},
			{ 0, NULL, 99,  0, 0, 0}, { 0, NULL, 99,  0, 0, 0},
			{ 0, NULL, 99,  0, 0, 0}, { 0, NULL, 99,  0, 0, 0},
			{ 0, NULL, 99,  0, 0, 0}
		}
	},
	{
			/* The Necronomicon (sval 23) */
		(SBF_NECRONOM | SBF_GOOD | SBF_ARTIFACT),
		{
			{ SP_DARK_AREA,			"Unlight Area",				 1,  1, 15,   1}, 
			{ SP_DISPEL_NON_EVIL,	"Wave of Evil",			    25, 15,132,   4}, 
			{ SP_BEAM_NETHER,		"Ray of Evil",              40, 50,117,   5}, 
			{ 0, NULL, 99,  0, 0, 0}, { 0, NULL, 99,  0, 0, 0},
			{ 0, NULL, 99,  0, 0, 0}, { 0, NULL, 99,  0, 0, 0},
			{ 0, NULL, 99,  0, 0, 0}, { 0, NULL, 99,  0, 0, 0},
			{ 0, NULL, 99,  0, 0, 0}
		}
	}
};

/*
 * The max plusses per item weight, in increments of 1 pound
 */
byte max_item_plus[30] =
{
	3,   4,  4,  5,  5,  6,  6,  7,  8,  8, 
	9,  10, 10, 10, 10, 12, 12, 14, 14, 14,
	16, 16, 16, 18, 18, 18, 18, 18, 20, 20
};

/*
 * Each chest has a certain set of traps, determined by pval
 * Each chest has a "pval" from 1 to the chest level (max 55)
 * If the "pval" is negative then the trap has been disarmed
 * The "pval" of a chest determines the quality of its treasure
 * Note that disarming a trap on a chest also removes the lock.
 */
byte chest_traps[64] =
{
	0,					/* 0 == empty */
	(CHEST_POISON),
	(CHEST_LOSE_STR),
	(CHEST_LOSE_CON),
	(CHEST_LOSE_STR),
	(CHEST_LOSE_CON),			/* 5 == best small wooden */
	0,
	(CHEST_POISON),
	(CHEST_POISON),
	(CHEST_LOSE_STR),
	(CHEST_LOSE_CON),
	(CHEST_POISON),
	(CHEST_LOSE_STR | CHEST_LOSE_CON),
	(CHEST_LOSE_STR | CHEST_LOSE_CON),
	(CHEST_LOSE_STR | CHEST_LOSE_CON),
	(CHEST_SUMMON),			/* 15 == best large wooden */
	0,
	(CHEST_LOSE_STR),
	(CHEST_LOSE_CON),
	(CHEST_PARALYZE),
	(CHEST_LOSE_STR | CHEST_LOSE_CON),
	(CHEST_SUMMON),
	(CHEST_PARALYZE),
	(CHEST_LOSE_STR),
	(CHEST_LOSE_CON),
	(CHEST_EXPLODE),			/* 25 == best small iron */
	0,
	(CHEST_POISON | CHEST_LOSE_STR),
	(CHEST_POISON | CHEST_LOSE_CON),
	(CHEST_LOSE_STR | CHEST_LOSE_CON),
	(CHEST_EXPLODE | CHEST_SUMMON),
	(CHEST_PARALYZE),
	(CHEST_POISON | CHEST_SUMMON),
	(CHEST_SUMMON),
	(CHEST_EXPLODE),
	(CHEST_EXPLODE | CHEST_SUMMON),	/* 35 == best large iron */
	0,
	(CHEST_SUMMON),
	(CHEST_EXPLODE),
	(CHEST_EXPLODE | CHEST_SUMMON),
	(CHEST_EXPLODE | CHEST_SUMMON),
	(CHEST_POISON | CHEST_PARALYZE),
	(CHEST_EXPLODE),
	(CHEST_EXPLODE | CHEST_SUMMON),
	(CHEST_EXPLODE | CHEST_SUMMON),
	(CHEST_POISON | CHEST_PARALYZE),	/* 45 == best small steel */
	0,
	(CHEST_LOSE_STR | CHEST_LOSE_CON),
	(CHEST_LOSE_STR | CHEST_LOSE_CON),
	(CHEST_POISON | CHEST_PARALYZE | CHEST_LOSE_STR),
	(CHEST_POISON | CHEST_PARALYZE | CHEST_LOSE_CON),
	(CHEST_POISON | CHEST_LOSE_STR | CHEST_LOSE_CON),
	(CHEST_POISON | CHEST_LOSE_STR | CHEST_LOSE_CON),
	(CHEST_POISON | CHEST_PARALYZE | CHEST_LOSE_STR | CHEST_LOSE_CON),
	(CHEST_POISON | CHEST_PARALYZE),
	(CHEST_POISON | CHEST_PARALYZE),	/* 55 == best large steel */
	(CHEST_EXPLODE | CHEST_SUMMON),
	(CHEST_EXPLODE | CHEST_SUMMON),
	(CHEST_EXPLODE | CHEST_SUMMON),
	(CHEST_EXPLODE | CHEST_SUMMON),
	(CHEST_EXPLODE | CHEST_SUMMON),
	(CHEST_EXPLODE | CHEST_SUMMON),
	(CHEST_EXPLODE | CHEST_SUMMON),
	(CHEST_EXPLODE | CHEST_SUMMON),
};


/*
 * Hack -- the "basic" color names (see "TERM_xxx")
 */
cptr color_names[16] =
{
	"Dark",
	"White",
	"Slate",
	"Orange",
	"Red",
	"Green",
	"Blue",
	"Umber",
	"Light Dark",
	"Light Slate",
	"Violet",
	"Yellow",
	"Light Red",
	"Light Green",
	"Light Blue",
	"Light Umber",
};


/*
 * Abbreviations of healthy stats
 */
cptr stat_names[6] =
{
	"STR: ", "INT: ", "WIS: ", "DEX: ", "CON: ", "CHR: "
};

/*
 * Abbreviations of damaged stats
 */
cptr stat_names_reduced[6] =
{
	"Str: ", "Int: ", "Wis: ", "Dex: ", "Con: ", "Chr: "
};


/*
 * Certain "screens" always use the main screen, including News, Birth,
 * Dungeon, Tomb-stone, High-scores, Macros, Colors, Visuals, Options.
 *
 * Later, special flags may allow sub-windows to "steal" stuff from the
 * main window, including File dump (help), File dump (artifacts, uniques),
 * Character screen, Small scale map, Previous Messages, Store screen, etc.
 */
cptr window_flag_desc[16] =
{
	"Display inven/equip",
	"Display equip/inven",
	"Display player (basic)",
	"Display player (extra)",
	"Display visible monsters",
	NULL,
	"Display messages",
	"Display overhead view",
	"Display monster recall",
	"Display object recall",
	NULL,
	"Display snap-shot",
	NULL,
	NULL,
	"Display borg messages",
	"Display borg status"
};


/*
 * Options -- definitions 
 */

option_type options[OPT_NORMAL] =
{
	{"rogue_like_commands",	"Rogue-like commands",						FALSE},
	{"quick_messages",		"Activate quick messages",					TRUE },
	{"floor_query_flag",	"Prompt for floor item selection",			FALSE},
	{"carry_query_flag",	"Prompt before picking things up",			TRUE },
	{"use_old_target",		"Use old target by default",				FALSE},
	{"always_pickup",		"Pick things up by default",				TRUE },
	{"always_repeat",		"Repeat obvious commands",					TRUE },
	{"depth_in_feet",		"Show dungeon level in feet",				FALSE},
	{"stack_force_notes",	"Merge inscriptions when stacking",			TRUE },
	{"stack_force_costs",	"Merge discounts when stacking",			TRUE },
	{"show_labels",			"Show labels in equipment listings",		TRUE },
	{"show_weights",		"Show weights in all object listings",		TRUE },
	{"ring_bell",			"Audible bell (on errors, etc)",			TRUE },
	{"show_flavors",		"Show flavors in object descriptions",		TRUE },
	{"run_ignore_stairs",	"When running, ignore stairs",				TRUE },
	{"run_ignore_doors",	"When running, ignore doors",				TRUE },
	{"run_cut_corners",		"When running, cut corners",				TRUE },
	{"disturb_move",		"Disturb whenever any monster moves",		TRUE },
	{"disturb_near",		"Disturb whenever viewable monster moves",	TRUE },	
	{"disturb_panel",		"Disturb whenever map panel changes",		TRUE },
	{"disturb_state",		"Disturb whenever player state changes",	TRUE },
	{"disturb_minor",		"Disturb whenever boring things happen",	TRUE },
	{"alert_failure",		"Alert user to various failures",			FALSE},
	{"verify_destroy",		"Verify destruction of objects",			TRUE },
	{"verify_destroy_junk",	"Verify destruction of worthless items",	FALSE},
	{"auto_haggle",			"Auto-haggle in stores",					TRUE },
	{"expand_look",			"Expand the power of the look command",		TRUE },
	{"expand_list",			"Expand the power of the list commands",	TRUE },
	{"view_perma_grids",	"Map remembers all perma-lit grids",		TRUE },	
	{"view_torch_grids",	"Map remembers all torch-lit grids",		FALSE},	
	{"dungeon_align",		"Generate dungeons with aligned rooms",		TRUE },
	{"view_reduce_lite",	"Reduce lite-radius when running",			FALSE},	
	{"hidden_player",		"Hide player symbol when running",			FALSE},
	{"avoid_abort",			"Avoid checking for user abort",			FALSE},
	{"avoid_other",			"Avoid processing special colors",			FALSE},
	{"flush_failure",		"Flush input on various failures",			TRUE },
	{"flush_disturb",		"Flush input whenever disturbed",			FALSE},
	{"fresh_before",		"Flush output before every command",		TRUE },	
	{"fresh_after",			"Flush output after various things",		FALSE},
	{"compress_savefile",	"Compress messages in savefiles",			TRUE },
	{"hilite_player",		"Hilite the player with the cursor",		FALSE},
	{"view_yellow_lite",	"Use special colors for torch lite",		TRUE },	
	{"view_bright_lite",	"Use special colors for field of view",		TRUE },	
	{"view_granite_lite",	"Use special colors for wall grids",		FALSE},
	{"view_special_lite",	"Use special colors for floor grids",		TRUE },
	{"easy_direction",		"Open/Disarm/Close without direction",		FALSE},
	{"easy_alter",			"Open/Disarm doors/traps on movement",		FALSE},
	{"easy_floor",			"Display floor stacks in a list",   		FALSE},
	{"show_piles",			"Show stacks using special attr/char",		FALSE},
	{"center_player",		"Center map continuously",					FALSE},
	{"run_avoid_center",	"Avoid centering while running",			FALSE},	
	{"scroll_target",		"Scroll map while targetting",				FALSE},
	{"auto_more",			"Automatically clear '-more-' prompts",		FALSE},
	{"view_monster_lite",	"Allow monsters to have light radius",		TRUE },
	{"verify_leave_quest",	"Verify before descending from quest level",TRUE },
	{"carry_heavy_query",	"Verify before picking up heavy objects",	TRUE }
};

option_type options_birth[OPT_BIRTH] =
{
	{"birth_point_based",	"Allow purchase of stats using points",		FALSE},
	{"birth_auto_roller",	"Allow specification of minimal stats",		FALSE},
	{"birth_preserve",		"Preserve artifacts when leaving level",	TRUE },
	{"birth_ironman",		"Restrict the use of stairs/recall",		FALSE},
	{"birth_no_stores",		"Restrict the use of stores/home",			FALSE},
	{"birth_no_artifacts",	"Restrict creation of artifacts",			FALSE},
	{"birth_rand_artifacts","Randomize some of the artifacts",			FALSE},
	{"birth_autoscum",		"Generate better (harder) levels",			FALSE},
	{"birth_no_feelings",	"No level feelings",						FALSE},
	{"birth_start_kit",		"Pre-shop for some basic items",			FALSE},
	{"birth_smart_packs",	"Monsters act smarter in groups",			FALSE},
	{"birth_smart_cheat",	"Monsters exploit players weaknesses",		FALSE},
	{"birth_flow_by_sound",	"Monsters chase current location",			TRUE },
	{"birth_flow_by_smell",	"Monsters chase recent locations",			TRUE },
	{"birth_random_hp",		"Generate hitpoints randomly",				TRUE }
};

option_type options_cheat[OPT_CHEAT] =
{
	{"cheat_peek",			"Peek into object creation",				FALSE},
	{"cheat_hear",			"Peek into monster creation",				FALSE},
	{"cheat_room",			"Peek into dungeon creation",				FALSE},
	{"cheat_xtra",			"Peek into something else",					FALSE},
	{"cheat_know",			"Know complete monster info",				FALSE},
	{"cheat_live",			"Allow player to avoid death",				FALSE},
	{"cheat_no_save",		"No automatic saves",    					FALSE}
};

/*
 * Option screen interface
 *
 * Note the special significance given to the constant "255".
 */
byte option_page[OPT_PAGE_MAX][OPT_PAGE_PER] =
{
	/*** User-Interface ***/

	{
		OPT_rogue_like_commands,
		OPT_quick_messages,
		OPT_floor_query_flag,
		OPT_carry_query_flag,
		OPT_carry_heavy_query,
		OPT_use_old_target,
		OPT_always_pickup,
		OPT_always_repeat,
		OPT_verify_destroy,
		OPT_verify_destroy_junk,
		OPT_easy_direction,
		OPT_easy_alter,
		OPT_easy_floor,
		OPT_verify_leave_quest,
		255,
		255
	},

	/*** Display ***/

	{
		OPT_depth_in_feet,
		OPT_show_labels,
		OPT_show_weights,
		OPT_show_flavors,
		OPT_show_piles,
		OPT_hilite_player,
		OPT_view_yellow_lite,
		OPT_view_bright_lite,
		OPT_view_granite_lite,
		OPT_view_special_lite,
		OPT_view_monster_lite,
		255,
		255,
		255,
		255,
		255
	},

	/*** Disturbance ***/

	{
		OPT_run_ignore_stairs,
		OPT_run_ignore_doors,
		OPT_run_cut_corners,
		OPT_disturb_move,
		OPT_disturb_near,
		OPT_disturb_panel,
		OPT_disturb_state,
		OPT_disturb_minor,
		OPT_alert_failure,
		OPT_auto_more,
		OPT_ring_bell,
		255,
		255,
		255,
		255,
		255
	},

	/*** Game-Play ***/

	{
		OPT_auto_haggle,
		OPT_expand_look,
		OPT_expand_list,
 		OPT_center_player,
		OPT_view_perma_grids,
		OPT_view_torch_grids,
		OPT_dungeon_align,
		OPT_stack_force_notes,
		OPT_stack_force_costs,
		255,
		255,
		255,
		255,
		255,
		255,
		255
	},

	/*** Efficiency ***/

	{
		OPT_view_reduce_lite,
		OPT_hidden_player,
		OPT_avoid_abort,
		OPT_avoid_other,
		OPT_flush_failure,
		OPT_flush_disturb,
		OPT_fresh_before,
		OPT_fresh_after,
		OPT_compress_savefile,
 		OPT_run_avoid_center,
		OPT_scroll_target,
		255,
		255,
		255,
		255,
		255,
	},

	/*** Cheat ***/

	{
		OPT_cheat_peek,
		OPT_cheat_hear,
		OPT_cheat_room,
		OPT_cheat_xtra,
		OPT_cheat_know,
		OPT_cheat_live,
		OPT_cheat_no_save,
		255,
		255,
		255,
		255,
		255,
		255,
		255,
		255,
		255
	},

	/*** Birth ***/

	{
		OPT_birth_point_based,
		OPT_birth_auto_roller,
		OPT_birth_random_hp,
		OPT_birth_start_kit,
		255,
		255,
		255,
		255,
		255,
		255,
		255,
		255,
		255,
		255,
		255,
		255
	},

	/*** Difficulty ***/

	{
		OPT_birth_autoscum,
		OPT_birth_preserve,
#ifdef GJW_RANDART
		OPT_birth_rand_artifacts,
#else
		255,
#endif
		OPT_birth_ironman,
		OPT_birth_no_stores,
		OPT_birth_no_feelings,
		OPT_birth_no_artifacts,
		255,
		255,
		255,
		255,
		255,
		255,
		255,
		255,
		255
	},

	/*** Monster AI ***/

	{
		OPT_birth_smart_packs,
		OPT_birth_smart_cheat,
		OPT_birth_flow_by_sound,
		OPT_birth_flow_by_smell,
		255,
		255,
		255,
		255,
		255,
		255,
		255,
		255,
		255,
		255,
		255,
		255
	}

};


cptr inscrip_text[MAX_INSCRIP] =
{
	NULL,
	"terrible",
	"worthless",
	"cursed",
	"broken",
	"average",
	"good",
	"excellent",
	"special",
	"uncursed",
	"indestructible"
};

