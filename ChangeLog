2001-07-18  Stig E Sandø <stig@users.sourceforge.net>
	* Improved UI-handling considerably for zterm, including
	now-usable curses-support
	* Added better stack-handling
	* Added nutritious effect of food
	* Improved 'u'se code
	* Improved birth UI
	* Fixed a lot of minor technical issues
	* Improved object descriptions
	* Updated the included binary-types
	* Improved debian-packaging
	* Added quaff, eat and read-commands
	* Other minor issues
	
2001-05-24  Stig E Sandø <stig@users.sourceforge.net>
	* added some code to 'u'se objects, and started with potions.  
	
2001-05-22  Stig E Sandø <stig@users.sourceforge.net>
	* lots of changes, some of them summarised here, others are
	forgotten
	* reorganised directory-structure and depend more on
	logical-pathnames than earlier.
	* Rewrote part of the C-side code to not depend on DEFINEs for
	lisp-system.  To avoid linking-errors a dummycall shared-object is
	also linked for ACL and CLISP.
	* Tuned much of the FFI-code for ACl and slightly for CMUCL.  With
	an intricate system of WITH-FOREIGN-STR and string-conversions and
	even a non-consing LB-FORMAT (FORMAT-replacement) consing is down
	and strings are basically passed as addresses in ACL and most of
	CMUCL FFI.  I don't know for CLISP.
	* added tests for ffi and format
	* updated the clisp build to work with newer file-structure and
	ffi-system.
	* added Debian-packaging in three separate packages: the
	c-library, the engine and currently the vanilla variant.  The
	langband-engine depends on binary-types debian package.
	* updated READMe and some docs.
	* renamed packages to org.langband.engine, org.langband.ffi,
	org.langband.testing
	* fixed bug in xp-awarding/gain-level
	* moved around code in general..
	* added type-declarations in some places to please CMUCL, but
	there's still plenty to do.
	* ensured that build-system works when "developing", ie (load
	"game") and when loading it on a debian-system.
	* probably other minor things, but most importantly: reduced
	consing and new improved build-ystsem with debian-package support
	directly. 
	
2001-04-25  Stig E Sandø <stig@users.sourceforge.net>
	* added preliminary tombstone
	* fixed bug which disallowed wearing of gloves
	
2001-04-21  Stig E Sandø <stig@users.sourceforge.net>
	* improving gradually save/load, now introducing the level-object
	* made level-constructions use a factory in the variant object,
	this is still ugly however
	* added more to verify.lisp
	* moved some equipment-implementation to util.lisp
	* ...
	
2001-04-21  Stig E Sandø <stig@users.sourceforge.net>
	* improving gradually the save/load process, which now mostly
	includes the player-object.
	* also refactored other parts of the code, though mostly related
	to the player-object.
	* improved test-set somewhat
	* minor bug-fixing
	* ...
	
2001-04-20  Stig E Sandø <stig@users.sourceforge.net>	
	* started to add save/load of both a source-based save/load and a
	binary version.  For the binary version I use binary-types made by
	Frode Vatvedt Fjeld which seems to work.
	* added a LANG-EQUAL function to be able to check that save/load
	is consistent and to allow XP-testing of the system.
	* Added in-game XP-testing of save/load of both binary and source.
	* added illegal x/y values to coordinates to ensure that
	safe-values are always put there.
	* added x/y coordinates to items-on-floor and a dungeon-pointer
	* tries to ensure that all id's of monsters/objects are strings,
	help in save/load process
	
	
	
2001-04-15  Stig E Sandø <stig@users.sourceforge.net>
	* added more or less the same speed-system as in Angband, which
	means that speed matters now.  Some actions have different
	energy-use though
	* added more generic functions to ensure that code for
	monsters/player is more or less shared.
	* ensured that the combat-system uses skill more or less
	* added a WITH-DUNGEON-MONSTERS macro to simplify code
	* improved WITH-NEW-SCREEN and use it in more places
	* added support for monsters that never move and random movers.
	* added primitive hp-regeneration
	* tried optimising project-path slightly
	* 
	
2001-04-14  Stig E Sandø <stig@users.sourceforge.net>
	* added PROJECT-PATH and made all monsters move towards the player
	to kill him off, which they can.. the town is tough right now.
	* added a few generic functions to ensure somewhat general ways to
	do combat between player and monsters, see combat.lisp
	* fixed bug of monsters walking through walls and a shift-mistake
	in view.lisp.  Added a fuzzy thing to make monsters move the right
	way even if something blocks their view.
	* added more lenient treatment of data when reading old-fashioned
	monster-file, and also ensured that dice for objects and monsters
	are parsed as such.
	* fixed monster creation, now gets correct number of hit-points
	* made attack-system use weapons and attacks from monster-file.
	Normal weapon-damage used as well.  50% chance to hit for everyone
	still.
	* added dice-rolling function.. really really complex thing :-)
	* started to add skills to the system.. a long trek with lots of
	mistakes
	* improved key-handling to not do anything stupid when a wrong key
	is entered
	* added skills to most races and classes
	* minor edits..
	
2001-04-13  Stig E Sandø <stig@users.sourceforge.net>
	* made generic functions LOCATION-X and LOCATION-Y to abstract
	away details of various things location
	* rewrote MAP-INFO to return two values instead of a cons
	* added LANG-WARN
	* rewrote much of the LOS-code.  it doesn't cons much anymore and
	it now uses 16-bit ints instead of 32-bit ints.  it has a bug
	though.
	* rewrote much of the print.lisp code to just pass numbers to C to
	avoid string-allocation.  added a couple of new C-functions for
	this, and their FFI-declarations. 
	* started to abstract somewhat on combat and started the long
	trek of monster-processing
	* Fixed buggy LOS from 16-bit change which also fixed an old bug
	in my old code.. whaddayaknow.
	* minor edits..
		
2001-03-15  Stig E Sandø <stig@users.sourceforge.net>
	* updated a lot of code to make things work with CLISP.  No actual
	changes to the game, but mostly system issues.
	
2001-02-19  Stig E Sandø <stig@users.sourceforge.net>
	* simplified lib/zterm/Makefile slightly
	* improved the activation protocol for objects, uses :around and
	checks for appropriate activation and returns appropriate value.
	Updated a few objects to ensure they're activated properly.
	* improved shop-code slightly, shops and houses now includes item
	containers and should specialise the appropriate functions
	* made cmucl use a callback, just like ACL.  this will hopefully
	make it easier later with the gtk-support which seems to work now.
	* added a small function to print out key-mappings
	* a few minor bugs fixed
		
2001-02-18  Stig E Sandø <stig@users.sourceforge.net>
	* Added Aerton's preliminary sound-support (a daemon) for Angband
	and Linux. The small sound-daemon is released in public domain.
	* Updated main-x11.c, Makefile and lisp-code to reflect this.  The
	sound-support seems to work.
	* added a FAQ-entry to explain how to use the sound-support
	
2001-02-12  Stig E Sandø <stig@users.sourceforge.net>
	* added activable mixin-class for being consistent with
	acticate-object state and later deactivation
	* activable objects: house, variant, active-object, level and
	active-monster 
	* removed reuse of dungeon arrays to allow easier saving of levels
	later.
	* added a hack to allow easy restart after a crash by saving state
	now and then.  the game-loop can be restarted with GAME-LOOP&.
	* added 'z' key to get a LISP-prompt, the restart function over
	can be used afterwards.
	* removed warnings from C-code
	* did some optimisations on UPDATE-VIEW!, need a real rewrite
	later to stop using bignums.
	* regenerated web/file-list.html
	* updated README and added COPYING to the fray
	
2001-02-10  Stig E Sandø <stig@users.sourceforge.net>
	* reduced cons'ing slightly and optimised UPDATE-VIEW! slightly.
	* added memoize.lisp and memoised a few string allocation
	functions in print.lisp (moved to base.lisp)
	* macrofied a few bit-twiddlers for allegro only
	* small adjustments elsewhere

2001-02-08  Stig E Sandø <stig@users.sourceforge.net>
	* made an improvement to the shuffle-array function and added a
	handy array-with-num thing to base.lisp
	* started placing stores/houses stuff in the variant object, not
	quite there yet
	* added a trigger-mechanism that can be set to a special
	coordinate in the dungeon and which will be triggered when the
	player moves atop the location  GET-COORD-TRIGGER and it's SETF
	* added XP testing framework, source gotten from onShore Inc.  See
	tools/xptest-COPYING for copying details.  Only simple tests added
	to code.  This testing imposes some overhead on the current
	cvs-tree code
	* Moved minor stuff around in the vanilla variant code
		
2001-02-02  Stig E Sandø <stig@users.sourceforge.net>
	* added support for numpad and arrowkeys and diagonal movement.
	* added code to allow key-macros to be set and loaded from lisp.
	Angband-pref-files are now plain LOADed lisp.
	* started writing a technical overview of Langband
	* Added lazy flavouring to Langband.  an object is flavoured the
	first time an object of a certain kind is created. 

		
2001-01-21  Stig E Sandø <stig@users.sourceforge.net>
	* Pretty drastic upgrade of a lot of the code, wrt to levels and
	possibly theming.  the town-level in vanilla is now a themed level
	with it's own set of monsters.  This change has updated functions
	to find monster- and object-types from accessing a variant table
	to depend on level.
	* Grouped obj-table, alloc-table and obj-table-by-level into one
	struct and should be used by all appropriate "types" in the game.
	* Added filters when reading monsters and objects to allow levels
	to pick out what they want.
	* disabled stores and flavouring, will enable flavours shortly,
	but stores should be done on a level-by-level basis.
	* disabled placement of gold, no (gold) rush to fix it
	* minor adjustments
	
2001-01-21  Stig E Sandø <stig@users.sourceforge.net>
	* moved *turn* into variant as variant.turn and added a
	turn-events (non-functional yet)
	* moved sort-values (equipment) into variant object and updated
	all corresponding functions
	* added some time-variables to variant object and vanilla-variant,
	and fixed time-of-day for town.. 

2001-01-20  Stig E Sandø <stig@users.sourceforge.net>
	* added a fun room, the shop-room :-)
	* moved monster-tables into the variant object
	* moved object-tables into the variant object
	* added generics for lazy init of objects, monsters and features.
	these are specialised on the variant object.  added corresponding
	methods for vanilla.  The ACTIVATE-OBJECT is important here
	* renamed a few compat-functions to have COMPAT- prefix
	* also separated the vanilla variant mostly from the rest of the
	code, very few dependencies left, and loading is simpler.
		
	

2001-01-19  Stig E Sandø <stig@users.sourceforge.net>
	* renamed dungeon.level to dungeon.depth
	* moved the constant +xp-table+ to be a property of the variant
	object and is now variant.xp-table
	* moved the constant +max-level+ to be a property of the variant
	object and is now variant.max-charlevel
	* moved +dungeon-rooms+ constant to be part of dungeon-settings as
	the slot room-number
	* tried to ensure the same random state when generating the town
	in vanilla
	* added low-level c-term-save and c-term-load which are used by
	screen-save and screen-load.  screen-save and screen-load are
	neatly hidden beneath WITH-NEW-SCREEN though.  This new macro is
	used for show-inventory and show-equipment.
	* Fixed bug with RNG to allow the town to remain constant.
	Hackish solution is limited to one function in the variant-code.
	* Fixed bug in map-info which displayed things in corridors it
	shouldn't display.  Also fixed bug in map-info which showed
	monsters on map even if they were out of torch-scope
	* fixed stair back to level where you came from, through a
	POST-INITIALISATION of a level, which allows customisation for
	individual levels.
	* added hack to OPEN-DOOR! to ensure that an opened door is
	relighted right away.
	* removed some more details, warnings and made the lisp
	environment more quiet.
	

2001-01-18  Stig E Sandø <stig@users.sourceforge.net>
	* revamped room-code to be CLOS and the actual control is put in
	the variant and the engine is simplified.
	* prettified code, removed warnings and ensured that things look
	kind of nice.  time to write real code again soon. 
		
2001-01-18  Stig E Sandø <stig@users.sourceforge.net>
	* removed vanilla/[races|classes] from system file and let them be
	loaded by variant init
	* made a variant class, and made a subclass for the vanilla
	variant.  this variant class contains more of the information
	which was kept globally earlier.  an active variant-object will be
	kept in *variant*.  the file for this is core.lisp
	* added a level class which is the start of theming of levels.
	the file for this is level.lisp and lib/vanilla/levels.lisp update
	this with variant-specifics (ie town).  town-code largely moved
	here. 
	* removed global *level-rating* variable
	* ensured that races and classes now access the variant-object
	* separated vanilla and compat-code from the core engine
	system-file.  The new vanilla system file is
	lib/var-vanilla.system.  game.lisp has been changed to reflect
	that.
	* common files now use the COMMON prefix
	* distributed room-code into lib/common and to variants, also
	removed global table and moved it into the variant
	* moved global floor-table into variant object and updated
	floor-code
	* made a common module in langband.system to pretty things up
	* moved max-sizes of dungeons into variant object and removed
	global variables.
	* Slight change on PRINT-DEPTH
	


2001-01-17  Stig E Sandø <stig@users.sourceforge.net>
        * fixed a bug which prevented the +cave-wall+ flag from being set
	correctly.  added this check into (SETF COORD-FEATURE) which is
	different from (SETF COORD.FEATURE), unfortunate I know.
	* added a WITH-DUNGEON macro
	* updated MAP-INFO to use +cave-seen+ and +cave-view+ flags
	* made PRINT-MAP-TO-FILE only print features, ie it ignores what
	has been seen
	* removed a bug in UPDATE-VIEW! where initial-elements for arrays
	were not explicitly set
	* removed bug in VINFO-INIT! where the grid-array was not in
	correct order.
	* added a temporary FORGET-VIEW!
	
	
        
