# data040r5 --
#	Contains version-specific variables and commands

source data040r4

set vValueUpdate 2

ldelete vDirName \
	{tk library tkhtml}

lappend vDirName \
	{tk library TclMusic} \
	{tk library TkHtml}

lappend vValue \
	choicewindow,autoexpand \
	choicewindow,show \
	choicewindow,showicon \
	message2window,show \
	music,directory \
	music,play \
	recall,showicon

lappend vRInfoCompat \
	040r4

lappend vScoreCompat \
	040r4

rename ModifyValue ModifyValue040r4
proc ModifyValue {info} {
	array set data $info
	set name $data(name)
	set value $data(value)
	switch -- $name {
		music,directory {
			if {[llength $value]} {
				set value [UpdatePath [eval file join $value]]
				set value [file split $value]
			}
		}
		default {
			return [ModifyValue040r4 $info]
		}
	}
	return [list name $name value $value]
}

