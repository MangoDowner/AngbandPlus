=== ゲームをプレイする ===

    アングバンドにおいてあなた方がまず知りたいと思うものは「コマンド」の形式
でしょう。アングバンドのコマンドは、基本となる一文字のキー入力と様々な追加的
入力とによって構成されます。基本となる一文字のキー入力のキー配置は、「オリジ
ナルキー配置」と「ローグ風キー配置」の 2 つの標準的なキー配置のどちらかを選ぶ
ことができます。

    オリジナルキー配置は、アングバンドが内部的に使用している「内部的キー配置」
にひじょうに近いキー配置で、それに多少の追加がなされたものです。歩く方向を指
定するのにテンキーを、その場にとどまるのに "5" キーを使うことができます。ロー
グ風キー配置も同様の追加がなされていて、更に h/j/k/l/y/u/b/n キーを歩く方向を
指定するのに使えて、SHIFT/CTRLを押しながらだと、それぞれその方向に「走る」「地
形を変化させる」ことができます。特にローグ風キー配置だと CTRL や SHIFT キーを
使うことが多いのですが、それについてはコマンドの簡略な一覧を参照して下さい。

    どのキー配置でも、なんらかの「内部的キー配置」に割り当てられていないキー
は「コマンドマクロ」(説明は後にあります)のトリガーとして使用することができま
す。また、直接「内部的キー配置」のキーを使いたければ、バックスラッシュ("\")の
後に内部的キー配置のキーを押して下さい。これは通常「マクロ」の定義で使用され
ます。また CTRLキーを押す代わりに("^")キーを押してから文字を入力してもかまい
ません。つまり "^" を押して "p" を押すと、"CTRL+p" と解釈されます。

    追加的に「繰り返しの回数」を指定できるコマンドもあります。「繰り返しの回
数」とは、あるコマンドを複数回繰り返すようにゲームに指定することを言います。
何かキーを押したり、その他の中断する要因が発生したりすると、繰り返しは中断さ
れます。「繰り返しの回数」を指定するには、まず "0" を押して、次に回数を入力し
て、その後にコマンドを入力します。一定のコマンドでは、コマンドを入力する前に
スペースを入れなければなりません。回数を指定しないときには 99 回を指定したも
のと見なされます。オプションで自動繰り返しを指定すれば、一定のコマンド(開け
る、トラップ解除、穴を掘る、など)は自動的に繰り返しをします。

    コマンドの中には更なる入力を促すものもあります。例えば、方向、装備やアイ
テム、呪文や祈り、銘、モンスターの文字、副次的なコマンド、確認、ターン数、量、
ファイル名、などです。通常リターンキーのみを押すと「初期値」が入力されたもの
と見なされます。また ESC キーを押すとそのコマンドを中断します。

    呪文や持ち物の選択を促すコマンドもあります。スペースキー(か'*')を押すと
選択可能なものの一覧が表示されます。'-'(マイナス)を押すと床の上のアイテムを
選択します。小文字を押すとそのアイテムを即座に選択したことになります。大文字
を押すと確認の後にそのアイテムを選択します。'#'(数字)を押すと、あるならば "@#"
とか "@x#"( x には現在のコマンドが入る)とか銘を刻まれたアイテムを最初に選択
します。選択できるアイテムはその「コマンドに合った」アイテムだけです。アイテ
ムに "!*" とか "!x" とかの銘が刻まれていると、必ず確認をしてからそのアイテム
を選択します。

    方向の指定を促すコマンドもあります。下の表にある方向キーを使って方向を入力
して下さい。方向を指定するときに現在のターゲットを指定できる場合もありますが、
その時は "t" か "5" を押して下さい。新たにターゲットを指定したいときは "*" を
押して下さい。ターゲットについては、後にある「ターゲット」の所を読んで下さい。
  (*訳注)「ターゲット」の説明は後にはありません。原作者がこの部分を改訂するの
を忘れたのでしょう。「ターゲット」については "jcommand.txt" の ターゲットモー
ド "*" コマンドの説明の所を参照して下さい。

       オリジナルキー配置の方向キー       ローグ風キー配置の方向キー
                 7  8  9                           y  k  u
                 4     6                           h     l
                 1  2  3                           b  j  n

    どちらの標準的キー配置でも、「内部的キー配置」のショートカットキーが定義
されています。例えば、どちらのキー配置でも「歩く」には方向キーを押すだけでよ
くなっています。実は内部的キー配置では「歩く」コマンドを入力してから方向を指
定するようになっています。ローグ風キー配置では「走る」と「地形を変化させる」
も SHIFT や CTRL を押しながら方向キーを入力すればよくなっています。内部的キー
配置ではもちろん「走る」や「地形を変化させる」コマンドを入力してから方向キー
を指定するようになっています。さらに「その場にとどまる」はどちらのキー配置で
も "5" キーを使ってもよいですが、これはオリジナルキー配置で特に便利になってい
ます。

    多くのシステムにおいて、様々なキーやキーの組み合わせに「マクロ」を設定す
ることが可能です。それ故、SHIFT や CTRL キーとテンキーの組み合わせに「走る」
や「地形を変化させる」をマクロ定義することができる場合もあります。それには、
どのキー配置でも例えば "\" + "." + "6" で「東に走る」が表されますので、それを
用いて定義します。


=== オリジナル・キー配置の簡略な一覧 ===

(*訳注)オンラインヘルプにおいて "c" キーを押すと参照できますので割愛しました。


=== ローグ風キー配置の簡略な一覧 ===

(*訳注)オンラインヘルプにおいて "c" キーを押すと参照できますので割愛しました。


=== 特殊なキー ===

        特殊なキーの中には、システムやホストによって感知されてしまい、予想外の
結果を及ぼすものもあるかもしれません。一般的に、その特殊なキーとはコントロール
キーですが、それらの効果を無効にすることもできます。

        あなたが UNIX やその類似のシステムでゲームをしているならば、CTRL-C は
アングバンドを一時停止します。2, 3 回押すと警告のベルが鳴り、4 回押すと警告の
ベルとともに特別なメッセージを表示し、5 回押すとあなたのキャラクターを殺した
後にゲームを中断します。また CTRL-Z はゲームをサスペンドし、"fg" コマンドでレ
ジュームされるまで、もとのコマンド・シェルに復帰します。

        CTRL キーを押さなくても、その機能を実現することは可能です。それには
"^" キーを押してから次のキーを押して下さい。これは上述のようなコントロールキー
でのコマンドがシステムに影響を及ぼしてしまうようなシステムにおいて便利な機能
です。

        "\" を押してからコマンドを押すと、それはアングバンドの「内部的キー配
置」のコマンドと解釈されます。"\" の後に "^" を押してからコマンドを押すと、そ
れは「内部的キー配置」の CTRL キーとの同時押しのコマンドと解釈されます。この
"\" キーはマクロの行動を作成するときに大変便利です。というのも現在どんなキー
配置でも、それに影響を受けずに常に一定の行動を表すことができるからです。例え
ば "\" + "." + "6" は常に「東に走る」という行動を表します。例え現在のキー配置
では "." が別のコマンドに割り当てられていたとしてもです。
        
        "0", "^", "\" キーは全てコマンド入力待ちの時に特別な意味を持つのです
が、これらのキー単独では何の意味も持ちません。

        多くの入力待ちや確認待ちの時には、ESC キーは「中断」を意味します。
"[y/n]" の入力待ちの時には "y" か "n" か ESC しか受け付けられません。"-続く-"
のメッセージが出ているときには、そのメッセージを読み終わったならば、 ESCキー、
スペースキー、リターンキーによって、それをクリアします。「クイックメッセージ」
のオプションが設定されているならば、どのキーを押してもクリアします。


=== 回数指定 ===
 
        コマンドの中には、先に回数を指定することにより、複数回連続して実行で
きるものがあります。回数を指定すると、回数を全て消化するか、何かキーを押すか、
モンスターから攻撃されるなどの中断事由が発生するか、までコマンドが連続して実
行されます。モンスターが側にいるとほとんど中断事由に該当してしまいますので、
回数指定はモンスターを攻撃する場合には使えません。コマンドが連続実行されてい
る最中には、画面の再下段に残りの回数が表示されています。

        コマンドに回数を指定するには、はじめに "0" を押して、その後に回数を入
力して、最後にコマンドを入力します。現在オリジナルキー配置を使用しているなら
移動キーが数字ですので、移動のコマンドを回数指定したい場合には回数とコマンド
の区別が付きません。その様な場合には回数を入力した後に、スペースキーを押して、
それからコマンドを入力して下さい。

        探索や採掘を連続実行しているときには、それらのコマンドが成功したり、
モンスターから攻撃をされたりすると、自動的に連続実行を中断しますので、回数指
定が大変便利です。その他にも、連続実行(や休憩や走ること)は何かキーを押せば何
時でも中断することができます。連続実行を中断するために押すキーはどんなキーで
あってもよいのですが、スペースキーや ESC キーが安全でしょう。というのもそれら
のキーは常にコマンドとしての意味を持ちませんので、中断キーを押すときにちょう
ど連続実行が終わってしまった場合に誤動作を防ぐことができるからです。

        「コマンド自動繰り返し」オプションがセットされていると、通常繰り返し
が予想されるコマンド(開ける、解除、穴を掘る、体当たり)を自動的に 99 回繰り返
します。


=== アイテムの選択 ===
 
        多くのコマンドはその後に使用するアイテムの入力を促します。例えば巻物を
読むコマンドは、その後に手持ちのどの巻物を読みたいのかを聞いてきます。その様な
ときにはアルファベットを一文字押して選択をします。入力を促されるときには、使用
できる文字が表示されています。その中で、例えば "*" を押すと使用可能なアイテム
の一覧が表示されます。もし現在ウィンドウ環境にあってウィンドウが使えるのなら、
選択可能なアイテムの一覧は「チョイス・ウィンドウ」にも表示されます。使用可能な
アイテム一覧は現在の持ち物から選択され表示されますが、可能な場合には "/" を押
すことによって、装備一覧からアイテムを選択できることもあります。スペースキー
でも "*" と同様のはたらきをしますので、通常はこちらが便利です。

        アイテムを選択する場合に押すアルファベットは、大文字でも小文字でもかま
いません。小文字で押したのならば、選択は即座に実行されます。大文字で押したのな
ら、どのアイテムを選んだのかが表示されて、本当にその選択でよいのかが確認されま
す。大文字で指定することは安全ですが、確認をするためにより多くキーを押さなけれ
ばなりません。また後に述べる "@#" と "!x" の銘についても読んでおいて下さい。

        多くのコマンドにおいて選択をする場合に、"-" を押すと、現在キャラクター
の足下にあるアイテムを選択することになります。このコマンドで例えば巻物や薬を拾
うことなしに使用することができます。

        アイテムを選択するときに 0 から 9 の数字を押すと、"@#" と銘を刻まれ
たアイテムが選択されます("#" には数字が入ります)。例えばシャベルに "@0" と銘
を刻んでいる場合、"w"(アイテムを装備する)を押した後に、"0" を押すとシャベル
が装備されます。これはマクロにおいて大変に便利です。というのも、ザックの中の
アイテムの場所にかかわらず、常に一定のアイテムを選択することが可能になるから
です。例えばアングバンドでは初期状態で "X" キーには "w0" というマクロが定義
されています。つまり、採掘道具と常に使う武器の両方に "@0" と銘を刻んでおけば、
"X" を押すと現在装備されていない "@0" と刻まれたアイテムを装備しようとします
ので、これで 2 つのアイテムを素早く装備交換することができるのです。１つのア
イテムにいくつかの番号を刻んでおいてもかまいません。例えばソードに "@1@0" と
刻んでおけば、"w1" と "w2" のどちらでもこのソードが装備されます。通常、常に
使う武器には "@1@0" と銘を刻み、穴を掘るアイテムや 2 番目の武器に "@2@0" と銘
を刻みます。他には "@x0" という銘の刻み方があります。これはこのアイテムは "x"
コマンドのときだけ "@0" と同様の意味に解釈される、ということです。例えばロッド
に "@z4"と、杖に "@u4" と刻んでおけば、これらはそれぞれ "z4" か "u4" のコマン
ドの時にしか選択されません。

        注意するのは、"!x" と銘を刻まれたアイテム("x" の部分には現在のアングバ
ンドのコマンドが入ります)は、そのアイテムが選択されたときに必ず「確認」を促し
ます。例えば "!f!k!d" と銘を刻まれたアイテムは、そのアイテムを誤って失ってしま
う可能性を極度に減少させます。そして "!*" と銘を刻まれたアイテムは全てのコマン
ドにおいて、そのアイテムを選択する時に確認を促します。よってひじょうに神経質に
そのアイテムを使用できるようになります。なお、「売却」と「落とす」は両方とも
"d" コマンドを使うということを確認しておいて下さい。
  (*訳注) 店でアイテムを売却するときは (s)ell コマンドを使いますが、(d)rop で
          も同様に機能します。


=== ユーザー設定ファイル ===

        アングバンドではゲームの様々な点を自分好みに変更することが出来ます。
まずキー配置を変更することが出来ます(押されたキーに対応する内部的キー配置の割
り当てを変更します)。次にマクロを作成することが出来ます(一つのキーに一連の複
数のキーを押す手順を記憶させます)。次に画面表示を変更することが出来ます(モン
スターやアイテムや地形をあらわす文字や色を変更します)。次にカラーを変更するこ
とが出来ます(一定のカラーを明るくしたり暗くしたり全く別の色に変えたりします)。
最後にオプションを設定することが出来ます(その機能をオン・オフします)。

        アングバンドではユーザーの変更した様々な情報を「ユーザー設定ファイル」
と呼ばれるファイルに保存します。そのファイルはコメントと、簡単な設定変更のコ
マンドで構成されています。ユーザー設定ファイルを読み込む方法は色々とあります
し、自動的に読み込まれるものもあります。ユーザー設定ファイルなどの様々な設定
ファイルは、すべて "lib/user/" ディレクトリに保管されています。また設定変更コ
マンド (") を使って、設定変更のコマンドをゲーム上で直接打ち込むこともできま
す。ゲームの設定を変更したならば、画面描き直しコマンド (^R) を使って下さい。
このコマンドによって変更部分がゲーム上で有効になります。

        ゲームをスタートして、以前のキャラクタのセーブ・データを読み込むか新
しいキャラクタを作るかした後に、自動的に設定ファイルがいくつか読み込まれます。
まず始めに "pref.prf" ファイルが読み込まれます。このファイルには全てのシステ
ムで機能するいくつかのユーザー設定コマンドが記入されています。次に文字表示の
場合は "font-xxx.prf" が、ビット・マップでの表示の場合は "graf-xxx.prf" が読
み込まれます。このファイルには、モンスター、アイテム、地形の表示方法や色を、
それぞれのシステムに適合させるような変更が記載されています。次に "pref-xxx.
prf" ファイルが読み込まれます。このファイルには、それぞれのシステムで必要なマ
クロなどの設定が記載されています。次に "user-xxx.prf" ファイルが読み込まれま
す。このファイルには通常ユーザーが設定したことが記載されています。"user-xxx.
prf" ファイルは多くの場面においてデフォルトのユーザー設定ファイルとして使われ
ています。今までに出てきた "xxx" の部分にはシステムに応じた文字が入ります。
具体的には実行ファイルを作成するのに使われた "main-xxx.c" の "xxx" の部分の
文字が入ります。最後に "Race.prf" "Class.prf" "Name.prf" ファイルが読み込ま
れ、現在のキャラクターの種族(Race)、職業(Class)、名前(Name)が変更されます。

        設定を変更したい場合には、設定変更コマンドをユーザー設定ファイルにエ
ディターなどを使って直接記述するのも良いのですが、以下のコマンドを使えばより
感覚的に設定を変更することが出来ます。またそのコマンド中では、現存するユーザー
設定ファイルを読み込んだり、新しいユーザー設定ファイルを作成したり、現存する
ユーザー設定ファイルに情報を追加したりもできます。そのコマンドとは「マクロの
設定」(@)、「画面表示の設定」(%)、「カラーの設定」(&)で、詳細は以下に説明され
ています。

--- ユーザー設定ファイル(マクロ) ---

        「マクロの設定」コマンドではマクロを設定したり無効にしたりできます。
アングバンドにおけるマクロとは、なんらかのキー(これをトリガー・キーと呼びます)
に、一連のキー操作を定義することを言います。例えば、CTRL-(テンキー)6 に、"+6"
という行動を定義したとすると、この CTRL-6 がマクロを呼び出すトリガー・キーと
なり、以後 CTRL-6 が押される度に、"+" が押され、次に "6" が押されたのと同じよ
うに解釈され、つまり東に穴を掘ります。マクロは、いちいち何度も同じ様な一連の
キー入力をする煩雑さを解消するためにあるのです。

        マクロを定義するには、まずはトリガー・キーが押されたときに実行される
一連の「マクロ行動」を設定しなければなりません。先ほどの例でいえば "+6" (東に
穴を掘る) という部分です。「マクロ行動」を設定するにはメニューの「マクロ行動
の定義」を選択してから、マクロ行動を入力していって下さい。画面最下段に入力し
ているマクロ行動が表示されています。全て入力したら最後にリターンキーを押して
下さい。これで「マクロ行動」の設定は完成です。「マクロ行動」の入力は基本的に
は押すべきキーを順に入力していけば良いのですが、特殊なキー(リターンキーや CTRL
キー)を使用するときには、一定の書式で書かれなければなりません。"^X" と書けば
CTRL-X と解釈され(他の CTRL キーも同じです)、"\NNN" と書けば十進数の NNN と解
釈され、"\xHH"と書けば16進数の HH と解釈されます。また、"\e" は ESC、"\n" は
次の行(ラインフィード)、"\r" はリターンキー、"\s" はスペースキー、"\\" はバッ
クスラッシュ、"\^" は "^" という文字を表します。マクロ行動の解釈においては、
他のマクロをチェックしていませんので、マクロ行動の作成において無限ループを作っ
てしまうことを心配する必要はありません。また、マクロはどんなに長くても結構で
すが、システムの内部的な入力機能によって制限されます。通常は 1024 文字くらい
が限度でしょう。

        "\" コマンド(マクロ行動に記述するときには "\\" と入力します)はマクロ
において大変便利なコマンドです。どのマクロやキー配置においても、"\" コマンド
に続くキーは全てアングバンドの「内部的キー配置」のキーと解釈されます。「内部
的キー配置」のリストは "jcommand.txt" を見て下さい。例えば、マクロ行動に "\\.6"
と記述し、トリガーキーを"SHIFT-(テンキー)6" にしたとします。つまり SHIFT-(テ
ンキー)6 に "\" + "." + "6" が定義されたとすると、どのキー配置を使用している
ときでも、「東に走る」と解釈されます。キー配置や定義に依存しないという点でマ
クロはなるべく "\" コマンドを使って内部的キー配置で記述したほうがよいでしょう。

        マクロはユーザー設定ファイル中では 2 行に渡って記述されています。1 行
目は "A:<文字列>" で、これはエンコードされたマクロ行動を表します。2 行目は 
"P:<文字列>" で、これはエンコードされたトリガーキーを表します。

--- ユーザー設定ファイル(キー配置) ---

        「マクロの設定」コマンド中では「キー配置」を変更することもできます。
「キー配置」とは一つのキー(トリガー・キー)を別のある一つのキー(割り当てるべき
キー)に割り当てることです(方向も追加できます)。アングバンドのオリジナルキー配
置とローグ風キー配置は、内部的には「内部的キー配置」に割り当てられています。
つまり、アングバンドが本来持っているのは内部的キー配置だけで、オリジナルキー
配置やローグ風キー配置は「キー配置」を変更してできたキー配置なのです。プレイ
ヤーが「キー配置」の変更を行う場合にも、割り当てるべきキーはオリジナルキー配
置やローグ風キー配置のキーではなく、必ず内部的キー配置のキーにしなければなり
ません。オリジナルキー配置は内部的キー配置に非常によく似たキー配置です。ただ
追加的に、テンキーが ";" + (方向) に、"5" が "," に、コントロールキーが様々な
ことに割り当てられています。内部的キー配置自体については "jcommand.txt" を参
照して下さい。キー配置の変更には他に、特定のコマンドに "\x00" を割り当てて、
そのコマンドを使用不能にすることもできます。

        キー配置はユーザー設定ファイル中では "M:<T> <キー> <文字列>" で記述さ
れています。<T> はキーセット( 0 でオリジナルキー配置、1 でローグ風キー配置)を
表し、<キー> はエンコードされたトリガーキーを表し、<文字列> はエンコードされた
割り当るべキーを表します。

--- ユーザー設定ファイル(画面表示) ---

        「画面表示の設定」コマンドでは様々な画面表示を変更できますが、現在の
所、様々なモンスターやアイテムや地形をあらわす文字と色を変更できます。
"main-xxx.c" で対応していて、更に "use_graphics" フラグがセットされているの
ならば、様々なものを表示するのに通常の「色付きの文字」の代わりに「グラフィッ
ク・ビットマップ」を使用することが出来ます。

        色や文字を変更するときの具体的なキー操作ですが、通常は大文字を押すと
値を一つ減らし、小文字を押すと値を一つ増やします。"n" か "N" を押して変更しよ
うとするキャラクターを選択して下さい。"a" か "A" を押すとそのキャラクターの色
が変更され、"c" か "C" を押すとそのキャラクターをあらわす文字が変更されます。

<<注意>>この機能を使うとゲーム中の全てのモンスターの名前を見ることができます。
そのような情報を望まないのなら、この機能は使わないで下さい。

        画面表示の設定はユーザー設定ファイル中では "R:<N>:<A>/<C>" "K:<N>:<A>
/<C>" "F:<N>:<A>/<C>" "U:<N>:<A>/<C>" という形式で記述されています。

--- ユーザー設定ファイル(カラー) ---

        「カラーの設定」コマンドでは様々な画面表示のカラーの値を変更すること
が出来ます。このコマンドはシステムによっては機能しないこともあります。最もよ
くこの機能を発揮するシステムでは、アングバンドで使用される 16 色のカラーをそ
れぞれ RGB の値で変更することができ、現在使用されていない新しいカラーを設定す
ることもできるでしょう。

         カラーの設定はユーザー設定ファイル中では "V:<N>:<V>:<R>:<G>:<B>" と
いう形式で記述されています。

--- ユーザー設定ファイル(オプション) ---

        「オプションの設定」コマンドではオプションの効果をオン・オフする事が
出来ます。このオプションのオン・オフをユーザー設定ファイル中で行うこともでき
ます。そのコマンドはそれぞれ "X:<option>" "Y:<option>" です。


翻訳: しとしん
