// This is a quest template.
// Very similar to town template.
// N:Name of town;
// I:width:height:(0: dark 1: lite):(dungeon level):(dialog upon death... this mean we don't really die, but also that yoU're supposed to lose! ;)):event if death:set event if death
// S:start position x:start position y
// F: Feature definition
// T:(script function's name. It will be run when entering the quest/town.);
// D:town definition, use the following characters for features:
//
// #: Permanent wall
// X: Granite wall
// .: Floor
// T: Tree
// M: Mountain
// w: Shallow water
// W: Deep water
// l: Shallow lava
// L: Deep lava
// 1,2,3,4,5,6,7,8,9,0: Shops
// <: Stair up
// >: Stair down
// +: Door
// ,: Grass
// ;: Dirt
// -: Table/Counter
// s: Snow
// t: Snow-tree
// G: Glacier
// p: pit

// E:x:y:event type:event detail:Extra:Extra2:(event condition):(event condition value):(Set event):(Set event value)
	Type 1: Dialog	Detail: Which dialog.
	Type 2: Dungeon entrance  Detail: Which dungeon
	Type 3: Locked door  Detail: Item tval needed	Extra: Item sval needed
	Type 4: Quest enter. Detail: Quest number. Extra1: X pos. Extra2: Y pos. (if no values specified, use the quest's default start position.)
	Type 5: Quest exit.	Detail: X position.	Extra: Y position.
	Type 6: Item. 	Detail: Item's number	Extra: 0. Normal, 1. Good, 2. Magic, 3. Special
	Type 7: Monster	Detail: Monster's id.	Extra: 0. Awake 1. Sleeping 2. Friendly, awake. 3. Friendly, sleeping.  Extra2: Level
	Type 8: Change town.	Detail: Town's id.
	Type 9: Switch: Alter terrain. Detail: x coordinate. Extra: y coordinate. Extra2: Terrain ID.
	Type 10: Switch: Alter terrain(intelligence test). Detail: x coordinate. Extra: y coordinate. Extra2: Terrain ID.

// R:(script function's name):x:y


N:Palace;

I:91:40:1:1:0:0:0
S:45:37

// Leave palace, return to city, town #1012.
R:palace_exit_to_city:44:38
R:palace_exit_to_city:45:38
R:palace_exit_to_city:46:38

// Go to quest 1002: Prisons
E:32:13:4:1002:2:2:0:0:0:0

// Some guards
E:35:24:7:1526:0:0:0:0:0:0
E:35:27:7:1526:0:0:0:0:0:0
E:55:24:7:1526:0:0:0:0:0:0
E:55:27:7:1526:0:0:0:0:0:0
E:43:20:7:1526:0:0:0:0:0:0
E:47:20:7:1526:0:0:0:0:0:0
E:43:31:7:1526:0:0:0:0:0:0
E:47:31:7:1526:0:0:0:0:0:0

E:27:14:7:1526:0:0:0:0:0:0

// Treasury Guards
E:8:7:7:1529:0:0:0:0:0:0
E:10:7:7:1529:0:0:0:0:0:0

// Palace Officials
E:16:21:7:1528:0:0:0:0:0:0
E:23:21:7:1528:0:0:0:0:0:0
E:30:21:7:1528:0:0:0:0:0:0
E:16:30:7:1528:0:0:0:0:0:0
E:23:30:7:1528:0:0:0:0:0:0
E:30:30:7:1528:0:0:0:0:0:0
E:4:12:7:1528:0:0:0:0:0:0
E:4:17:7:1528:0:0:0:0:0:0
E:4:22:7:1528:0:0:0:0:0:0

// Palace Cook
E:55:9:7:1530:0:0:0:0:0:0

// Dialog if cannot enter the throne room yet.
E:44:4:1:1017:0:0:40:0:0:0
E:45:4:1:1017:0:0:40:0:0:0
E:46:4:1:1017:0:0:40:0:0:0

// Go to quest 1004: Throne room
E:45:2:4:1004:15:19:0:0:0:0

// Locked doors.
E:9:6:3:1:999:0:0:0:0:0
E:45:3:3:1:999:0:40:0:0:0

D:###########################################################################################
D:###########################################################################################
D:######.......###############################.<.############################################
D:######.......################################+#############################################
D:######.......###############################...###############.......................######
D:######.......###############################...##############.........................#####
D:#########+##################################...#############............---............####
D:########...#################################...#######-----#..........-------..........####
D:########...#################################...#######-....#........-----------........####
D:########...#################################...#######-....+........-----------........####
D:########...#################################...#######-....#........-----------........####
D:####...#...#################################...#######-----#..........-------..........####
D:####.-.+...#################################...#############............---............####
D:####...#....................+...>###########...##############.........................#####
D:########....................################...###############.......................######
D:########...#################################...#########################+++################
D:####...#...#################################...#########################...################
D:####.-.+...#################################...#########################...################
D:####...#...#################################...#########################...################
D:########...#################################+++#########################...################
D:########...############################T...........T####################...################
D:####...#...####...####...####...#####.....#.....#.....##################...################
D:####.-.+...####.-.####.-.####.-.###T...................T################...################
D:####...#...####...####...####...###.....................################...################
D:########...#####+######+######+####.......#.....#.......################...################
D:#+................................+.....................+................................+#
D:#+................................+.....................+................................+#
D:################+######+######+####.......#.....#.......###################################
D:###############...####...####...###.....................###################################
D:###############.-.####.-.####.-.###T...................T###################################
D:###############...####...####...#####.....#.....#.....#####################################
D:#######################################T...........T#######################################
D:############################################...############################################
D:############################################...############################################
D:############################################...############################################
D:############################################...############################################
D:############################################...############################################
D:############################################...############################################
D:############################################+++############################################
D:###########################################################################################
