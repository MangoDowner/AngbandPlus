****************************************************************************
Our story so far...
  It is the time of the Conjunction of a Million Spheres. Your Earth is
composed almost entirely of cave-riddled mountains (which have their own
dark inhabitants, known mostly by rumour), with villages in the few fertile
valleys that exist. Except for high summer, movement and trade between the
villages is almost impossible.
  Fresh rumour begins infiltrating the villages.  Rumours about the strange,
otherworldly beings that have begun to concentrate in the vast system of
caves under the mountains.  Rumours that the forces of Chaos are gathering
in unheard of numbers (led by three Chaos Lords referred to only as "The
Sword Rulers"), somewhere deep within the Earth, preparing for a great
battle with Law, upsetting the rule of the Cosmic Balance on your plane.
  Something needs to be done.  The Balance must be restored.  Someone must
journey to the bowels of the Earth and attempt to banish these Sword Rulers
from your plane...
****************************************************************************

=============================================
= Gumband 2.1.3b = Last Update: 30-Mar-2001 =
============================================================================
Changes from Gumband 2.1.3a are marked with '##'. Only the most major
changes are listed here, to keep things short...
ERROR: I first edited, saved and then placed this file into the archive for
the *next* version (213c or 214) of Gumband before I realized that this
would mean that the changes from 2.1.3a would no longer be marked. *sigh*
You'll have to look at the upload announcement post for the changes specific
to this version. Sorry. :)
============================================================================
Send any and all complaints (or praise ;) to aa343@chebucto.ns.ca. Patches,
makefiles, etc., should be sent to gumby_jd@yahoo.com.
============================================================================
PLEASE NOTE: Preserving savefile compatability is *NOT* important to me. I
*highly* suggest you finish up your current character with your current
version before moving to this one. At the very least, monster memory could
be severely messed up between versions...
============================================================================
I've only ever compiled this under MS-DOS with DJGPP. Your milage may vary
for other platforms and compilers... :) If you've had problems compiling
ZAngband v2.1.1c, then you'll probably have problems compiling Gumband.
  NOTE: I hear that there are major problems running the DOS version, and
compiling a Windows version with LCC, under Windows ME. I'm sorry, but since
I have no familiarity with either, there's nothing I can do. :( If someone
manages to get things working for that platform and/or compiler, could they
please mail me the makefile they used and any source files they needed to
update? [with explanatory notes, of course, so that I can add them without
breaking things for everyone else :]
============================================================================
Thanks to Bablos for compiling the Amiga version.
Thanks to Franklin Bratcher for compiling the Windows version.
Thanks to Gileba for compiling the Mac-PPC version.
============================================================================
Thanks to all the folks in #angband and rec.games.roguelike.angband who've
put up with me, and even helped me in many cases, while I was plundering
their knowledge of C for this little project. :) So, if you've responded to
any of my posts dealing with Gumband, or C programming in general, consider
yourself thanked. :) [individual thanks will be down there in the entries
that apply]
============================================================================
There have been other minor changes than those listed here that are no
longer worth individual mentions. Most changes to the monster, object and
artifact lists won't be included here, and some items might drop off the
list from time to time (to save space), tho that won't mean that the change
has been reversed.
============================================================================

01) Implemented a quick start option. If you select it, your character will
start the game with mildly enchanted equipment in their inventory. The
enchantments include a minor Slay or Brand for weapons with a few plusses,
and one of the basic elemental resistances for armour. The Ranger's Short
Bow only gets plusses. Using this option will cut your final score in half
and character dumps will be marked.

02) As Chaos Patrons, Mabelrode, Xiombarg and Arioch will now, not counting
'wrath' and 'piss off' events, never TY Curse (unless, as a Chaos Warrior,
you kill them) you or blast your armour or weapon. They also can give a
*VERY* genereous reward. [see 'Chaos Warriors' below]

03) Chaos Resistance no longer gives Confusion Resistance.

04) Being Berserk now gives +25 to hit and +10 to damage. In return, you are
reduced to just the base AC of worn armour and your Dexterity bonus, minus a
further 10 points. Spellcasting failure rates go up by 25% as well.

05) All effects (not the damage) from Nexus can now be resisted by a check
against the character's saving throw. [previously, only the scrambling and
teleport level effects could be resisted this way]


              ####### Altered Races and Classes #######

(see /lib/help/birth.txt and the source for full details on races and
 classes)

Beastmen:
 In addition to the chance of gaining mutations as they increase in level,
   Beastmen now randomly gain and lose mutations every once in a while as
   they move around or rest...
 Due to being a plaything of Chaos, Beastmen get +1 to the number of effects
   during a do_poly_self(). Beastmen Chaos Warriors tend to get slammed
   pretty hard when polymorphed. :)

Chaos Warriors:
 If you have Arioch, Xiombarg or Mabelrode as a patron, and you kill them,
   then you will be hit with multiple TY Curses.
 Now use WIS for their spell stat instead of INT (they get their magic
   through their patron (god), like Priests and Paladins do, so this is more
   appropriate).
 Due to being a plaything of Chaos, Chaos Warriors get +1 to the number of
   effects during a do_poly_self(). Beastmen Chaos Warriors tend to get
   slammed pretty hard when polymorphed. :)

Draconians:
 Now gain the following resistances at the level in brackets: Fire (5),
   Cold (10), Acid (15), Electricity (20), Light (25), Dark (30),
   Poison (35).

Gambolts:
 Exceptional DEX & CHR (both sustained), Saving Throw and Stealth. Decent
   Searching and great Perception. All other stats and skills are average.
 Permanent speed +2.
 Hit Dice of 8, 60' infravision, and an XP penalty of +30%
 Racial activation is Charm Monster at level 20.
 Cannot 'legally' choose to be Priests, Paladins, Chaos Warriors or Monks.

Golems:
 They now resist Fire (because of their 'birth' in a kiln or oven) and
   Shards, in addition to their original Poison resistance.
 They no longer get intrinsic See Invisible, Free Action or their level 35
   Hold Life, but keep their Slow Digestion.
 Intrinsic Armour Class has been changed to equal the Golem's level.

Half-Giants:
 Racial activation ('Stone to Mud') has been altered to only work when the
   player is adjacent to a non-permanent wall (or a closed door). If not,
   the Half-Giant just waves his or her fists uselessly in the air. :)

Half-Trolls:
 All Half-Trolls, not just Warriors, get Slow Digestion with their level 15
   Regeneration.

High Magi:
 Now get a mana bonus of +50% instead of the normal +25%.
 Pseudo-ID speed is based on magical realm (faster pseudo-ID for those
   realms that get Identify later, or not at all)

Priests:
 The penalty for using edged weapons is now a *real* penalty of (-15,-15)
   instead of the (-2,-2) that no one ever really noticed.

Rangers:
 Bonus shots with Short and Long Bows at levels 15, 30 and 45, instead of
   just at levels 20 and 40.
 Nature magic only, no secondary realm.

Rogues:
 Rogues gain 1 XP for successfully searching out a secret door or trap with-
   out using a spell. Others gain nothing.
 Only Rogues gain XP for picking the locks on doors and chests.
 Other classes only get 1/2 of the normal XP gained for disarming traps.
 Backstabbing a monster requires that the Rogue be wielding a weapon that is
   5 pounds or lighter, the Rogue pass a randint(monster_level+10) <=
   stealth check, and that the monster be somewhat humanoid.
 Backstabbing also affects monsters that are stunned or confused, in
   addition to those who are sleeping (ie, those that are helpless) or
   fleeing.
 Backstabbing a sleeping monster now does (5 + (plev/10)) times normal
   damage (ie, x5 to x10!) and stabbing a fleeing monster deals x3 normal
   damage (instead of the original x1.5).

Spectres:
 No longer gains telepathy at level 35.

Vampires:
 Takes damage from wielding *any* light source (either in the Light slot or
   as a weapon or armour) without having Resist Light.

Warriors:
 Warriors gain an AC bonus equal to %50 of worn armour's base AC, rounded
   down. (was only a bonus for body armour)

Warrior-Magi:
 Bonus melee attacks at levels 25 and 50, bonus missile shot at level 35.
 6 blows with same weight and multiplier restrictions as Warriors.
 Arcane magic only, no secondary realm.
 Available mana is at 75% what everyone else gets.
 XP required is at +35% (down from +50%).

Weaponmasters:
 Weaponmasters are roughly equal to Warriors as far as stats and skills go.
 Weaponmasters have chosen for them, at birth, one of the four melee weapon
   types (Hafted (blunt), Polearms, Axes, or Swords) and start out with a
   fairly heavy (approximately 15 pounds) weapon of the proper type.
 Weaponmasters gain a bonus to-hit and to-dam equal to the player's level
   only when using a weapon of the type they specialize in.
 [thanks to GSN for the suggestion on how to keep this from affecting bows &
   throwing - I probably never would've spotted something so simple on my
   own :]
 Weaponmasters gain extra blows when wielding a weapon in their specialty
   class (extra blows at levels 15, 30 and 45), but never have more than one
   blow, regardless of Str & Dex and any magical considerations, when
   wielding other weapons.
 Gains Fear Resistance at level 30.
 No spellcasting.
 XP penalty of 30%.


              ####### Monster-Related Changes #######

 Bumped Sauron to level 97 and replaced Oberon, and the Serpent of Chaos
 with the three Sword Rulers (Arioch, Xiombarg and Mabelrode), all three of
 which must be now be defeated to win.

 Monsters with HURT_FIRE or HURT_COLD take +50% damage from those sources.

 Monsters with RES_CHAO take extra damage from weapons of Chaos (in the
 Eternal Champion setting, such weapons were created from Chaos to fight
 Chaos), but damage from Chaos breath, bolts and balls are reduced like any
 other resistance.

 EXPLOSIVE flag added (monster blows up when killed - a formalization of the
 Unmaker's death effect). EXPLOSIVE monsters can only be killed by the
 player.

 New monster blow effect: RBE_VAMP (drains XP and heals the monster). See
 melee1.c for full details.

 The various object-mimics, monsters with a symbol of "<>$*,!=?|", are no
 longer detected as monsters with Detect Objects/Treasure, only as their
 object type.

 Monsters normally generated in groups, with escorts, or who are breeders
 are no longer selected for random quests.

 Undead monsters are no longer totally immune to Nether attacks. Instead,
 they resist at 1/9th normal damage (compared to 1/3rd for those who resist
 Nether and 1/2 for Evil creatures).

 Defined humanoid monsters as a monster with one of the following symbols:
 "hknNoOpPtTyY" - organs all in the right place [can't hamstring a naga, but
 otherwise fine], and not relying on magic for their existance, like Angels
 or the undead. 160 creatures total, as of this writing). Used for Slay
 Humanoid and the backstab attack of Rogues.

 If you feel righteous [ie, Bless/Prayer spells and scrolls], then your
 equipment won't become cursed from a monster's CAUSE_# or Hand of Doom
 spell attacks.

 The monster health bar has been updated to show if a monster is stunned
 (light brown) or confused (dark brown).

 Monster pits and nests no longer boost the level rating, though 'special'
 feelings are still generated when appropriate. Out of depth monsters in the
 pit/nest, of course, can still boost the rating. [vaults still boost as
 normal]


               ####### Object-Related Changes #######

 Altered the Dexterity table governing the chance of having something stolen
 from your backpack. There is no more immunity: the table tops out at 98% at
 DEX:18/220 or higher.

 Chaotic weapons deal x2 damage to creatures who breathe chaos and those who
 resist chaos (RES_CHAO) [briefly, weapons of Chaos, in the earlier Moorcock
 stories, were created from Chaos by Law specifically to fight Chaos] and
 have a reduced chance of causing earthquakes or causing your foe to vanish.

 Non-Chaotic weapons that cause earthquakes now only do so when the damage
 dealt is greater than 50 *and* randint(2)==1. If damage is less than 50, an
 earthquake can happen if randint(10)==1 [instead of randint(7)==1].

 Amulets are now vunerable to electricity.

 Wielding a weapon with a Slay that conflicts with your race has a 50%
 chance of burning you each turn. Wearing heavy gloves (gauntlets or better,
 regardless of artifact or ego status) will prevent the burning. Yeeks and
 Gambolts are considered animals, by the way. Since Slay Humanoid was
 created only for Erekose's sword, Kanajana, which emitted a poisonous
 radiation deadly to humanoids, those with Poison resistance won't be
 scorched by it.

 Added a SLAY_HUMANOID flag. x3 base damage to humanoid creatures. Used
 *only* on the Long Sword 'Kanajana' and will never appear on random
 artifacts.

 Brands and Slays are now cumulative, with resistances to a Brand reducing
 the multiplier. See cmd1.c for full details. (briefly, a monster affected
 by more than one Slay or Brand will take more damage if your weapon has
 them - an Evil Demon which doesn't resist Cold will have a multiplier of x5
 to the base damage when hit by Ringil, instead of the normal x3. If that
 Evil Demon resisted Cold, then there'd be a -1 to the multiplier, instead
 of the +1 for the brand, leaving the multiplier at x3...)

 Turned the code that adds random sustains, abilities and high resistances
 into the RAND_SUST, RAND_ABILITY and RAND_RESIST object flags. Note that
 these are *only* meant for ego-items, so if you modify the *_info files, I
 make no guarantees about what will happen if you try and add these to an
 artifact or normal object - it might crash or it might just ignore the
 flags...

 Destroying spellbooks has been altered slightly. Warriors and Paladins now
 get ((book_cost / 50) * player_level) for destroying books - and not only
 the dungeon/BM-only books. No experience is gained, however, for destroying
 storebought books.

 Added Feanoran Lamps. Radius 2 permanent lite, level/rarity of 15/2, cost
 of 1500 gold. Not available in the General Store, but can show up in the
 Black Market. The Phial of Galadrial is now a level 20, rarity 5 item...

 Large chests now produce only 'good' items (like a monster's DROP_GOOD),
 but are also rarer. [Wooden (rarity 2), Iron (rarity 4), Steel (rarity 6)]

 Artifacts now have a 75% chance to resist disenchantment (was 71%) and ego-
 items now have a 50% chance to resist disenchantment (formerly they had
 no resistance).


                   ####### Spellcasting #######

 The biggest change of all to a spell effect: Invulnerability does *NOT*
 prevent all damage, nor does it have a chance of being penetrated. Instead,
 Invulnerability reduces *all* damage to 1/9th of normal (cumulative with
 resistances and such, if I'm reading things right). Hate me yet? :)

 Failure rates for spellcasting are adjusted as follows:
   Wearing gloves (without Free Action or a Dexterity bonus) for mage-type
      spellcasters (+25%) [no mana penalties]
   Being encumbered by heavy armour (+15%) [no mana penalties - see
      ./lib/help/birth.txt for the current weight limits as some have been
      changed by me]
   Priests wielding a non-blessed edged weapon (+25%)
   Being Berserk (+25%)
   Being stunned (+15%/+25%)
   
 Characters suffering any of the conditions above can no longer get a 0%
 spell failure rate, no matter how high their spell-stat or level is.
 [penalties are assessed after bonuses]

 The various branding spells can now be used on non-stacked items in the
 inventory and on the floor. Shopkeepers will only buy player-branded melee
 weapons at 35% off the normal price.

Chaos:
 'Mana Burst' now has a straight 5% chance of producing a true ball of mana
   (GF_MANA), destroying any non-artifact objects in its radius, instead of
   the normal missile ball (GF_MISSILE), which doesn't destroy objects on
   the ground. The mana ball does an extra 25 points of damage compared to
   the missile ball.
 'Wonder' now deals a *lot* more damage than standard spells, to make up for
   the randomness which normally makes it a useless spell.

Death:
 'Wraithform' now lasts (randint(plev) + plev), making it useful. Wraith-
   form, whatever the source, no longer grants reflection, and only reduces
   damage to 1/3rd instead of 1/10th.
 'Invoke Spirits' has been replaced by 'Punish Undead' (dispels and turns
   undead creatures).
 'Omnicide' has been replaced by 'Summon Death', a line-of-sight death
   'ray'. There is a price for such power, however - if not invulnerable,
   the caster will suffer 100+d100 damage from Death's cold touch...

Life:
 'Bless Weapon' has been changed to 'Summon Angel'. There is a 1-in-5 chance
   of a hostile summoning. Costs and failure rates are unchanged. Scrolls of
   Bless Weapon (rarity of 75/4 & 100/2) has been added to compensate.
 'Protection from Evil' now affects creatures of any level <= level 97,
   regardless of the character's level. Duration of the effect has been
   reduced. It is also less likely to successfully repel a monster (maximum
   40% chance to repel at character level 50). These mods apply regardless
   of the source of the PfE. (see melee1.c for full details) Scrolls of
   Protection from Evil are also a bit easier to get.

Mindcraft:
 'Precognition' now detects doors and stairs at level 5, with detect traps
   bumped to level 10, and full detection moves to level 35, up from 30.
 'Minor Displacement' has moved its dimension door (targeted, short-ranged
   teleportation) effect to level 35 (up from level 25 and the 30 it was in
   the last version).
 'Major Displacement' now gives Teleport Other at level 45 instead of its
   original 'Banish' (teleport away all creatures in line of sight) effect.
 'Psychometry' now gives Identify at level 30 and *Identify* at level 40.
 'Mind Wave' now becomes a line-of-sight effect at level 30 (up from 25
  and down from the 40 it was in the last version - it now comes in at the
  point most of my Mindcrafters who get past 500' start to die. :)

Sorcery:
 'Stasis' (and, of course, all GF_STASIS effects) now affects uniques, as
   well as those creatures with NO_SLEEP. They still get a saving throw,
   however.

Trump:
 'Reset Recall' becomes 'Minor Divination' which detects traps, doors,
   stairs and normal monsters, with the same levels, costs and failure rates
   as 'Reset Recall'.


                  ####### Other People's Work #######

(NOTE: I might have missed one or two, but no biggie. :] Mail me if you spot
your own work so I can credit you properly...)

01) Kieron Dunbar's Stormbringer patch, to put Stormy in the a_info & k_info
text files instead of creating it on the fly.

02) Kieron's self-cursing items patch - items with the "AUTO_CURSE" flag
will curse themselves when worn, and the turn after being uncursed (at
normal speed) while worn, when uncursed (giving you one chance to remove the
item). The type of curse [heavy or normal] depends on what other Cursed
flags the item has.

03) Added Prfnoff's '[Last Messages]' routine to the character dump so we
can all see what you died of. :)

04) Stole the lose_mutation() function from ZAngband 2.5.3, which makes
things a lot more logical when dealing with the gains and losses of
Beastmen...


                        ####### Bugs #######

01) There are too many potions in the game at the moment, so a few potions
cannot be generated via debug mode's item creation menus since the list runs
out of symbols fairly quickly. It is not a priority to fix.

02) I still can't figure out why "b) dismiss pets" is being displayed as
"b)         ", ie, blanked out...

03) If you look through the entire monster list ['/' then CTRL-a] while the
'know all monster info' cheat is active, you will see the occasional blank
monster (ie, The ('')/(''): [(r)ecall, ESC]). This is because there are
still empty slots in r_info.txt, which I will eventually fill.

04) Like with Chaos Patrons, when you go to a 'p'revious character, the
current Weaponmaster specialty remains, instead of restoring the older
character's specialty. If you then continue rolling, a new specialty will be
randomly chosen, of course. Not worth the effort to fix, IMHO.

05) For some reason characters are *sometimes* being shown, only on the
'C'haracter screen, not in Self Knowledge, to gain Reflection at or around
level 30. Despite the display, the character does *not* actually have it. I
can find no reason for the display error or why it's only happening
sometimes.

06) Sometimes, completely at random, the Roguelike option will set itself to
true upon startup. I have no idea why...

07) Unfortunately, it seems that sometimes the game will freeze when you
enter a level. I have no idea why, as usual. :( All I can suggest, until I
figure this out, is that if this happens right after a save, that you move
your character around a bit before taking the stairs or WoR'ing into the
level that just froze you - that usually changes the RNG enough so that the
freeze won't happen a second time. This seems to happen deeper in the
dungeon when you've got a lot of monsters - maybe something to do with the
random quests...
