Changes from 0.4.1b to 0.4.2:

- 0.4.1/b savefiles are compatible, with the following exception:
  - Room descriptions may be screwed up (not the actual rooms, just the 
    descriptions).

- 0.4.0/b/c/d savefiles are compatible, with the following exceptions:
  - Spellcasters will have to re-learn all their spells.
  - Spellcasters who use mage books will have their books replaced by the new
    ones; this means they'll have a different spell selection.
  - Room descriptions may be screwed up (not the actual rooms, just the 
    descriptions).

## Screen dumps ##

- Removed the old option to read screen dumps from within the game - it wasn't
  working anyway.

- Added DarkGod's patch for HTML screen dumps. Now, pressing '(' will result 
  in an old style text-file screen dump, while pressing ')' will result in a 
  new, HTML-file screen dump.

- You can now choose the file's name in both dump types.

## Gameplay changes ##

- The thief class is greyed out for all races, because it is unbalanced in its 
  current form.

- Removed the option to inverse the spellbook interface. The option between the
  two possible interfaces is no longer a test option.

- Added an option to have traps appear on top of objects rather than 
  vice-versa.

- Option screens can now be navigated by the roguelike keys if they are turned
  on (patch by Robert Ruhelmann).

- Lantern light radius starts reducing a bit sooner when running out of fuel.

# Dungeon #

- The frequency of "item" rooms (where many items of the same type are found) 
  has been reduced.

- Chests are back! Now they are a terrain feature. At the moment they are 
  limited to vaults, and disarming and opening one gives you a singe, excellent
  item. This might change in future versions.

# Monster changes #

- Bogles made a bit more powerful.

- Non-unique harpies are now a bit more powerful.

- Blind eyes cast spells more often, and are worth less experience

- Modification of automata abilities: Flesh, clay and stone golems made more
  powerful; Iron golems made slightly weaker. Pukelman now resist acid and are
  worth less EXP. Colbran toned up slightly and worth less EXP. Clockwork
  warriors toned up, and worth more EXP.

- Lurkers and Trappers now grab instead of cut, and do slightly more damage.

- Vlasta now hit for less damage.

# Items #

- Talismans of Stone To Mud now cheaper.

- Rods of Recall worth more.

- Rods of Trap Location recharge a bit slower.

- Talismans of rapid ligntning/frost bolts are found a little deeper.

- Dal-i-thanon's weight fixed.

## Bug fixes ##

- All items in stores were being generated *ID*'d, which meant that you 
  couldn't later *ID* potions for their formulae. Now, only store ego-items
  are created *ID*'d.

- Unknown locked doors will no longer be interesting to 'l'ook (they appeared 
  as "unknown grid").

- Lurkers and trappers now work correctly again.

- Potential crash in knowledge screens fixed (thanks to Kieron Dunbar).

- Got rid of a few referrences to msg_print() that snuck back into the code.

Changes from 0.4.1 to 0.4.1b:

- Fully compatible with 0.4.0/b/c/d savefiles, same caveats apply as for 0.4.1.

- Fully compatible with 0.4.1 savefiles.

## Interface changes ##

- There are now three alternate interfaces for spell power selection, toggled by
  an option:
  - The first, if the option spellbook_menu1 is off (default), means that if you 
    type a lower-case letter for the spell: maaa, and the top level spell if you 
    type a captial letter: maA.
  - The second, if the option spellbook_menu is on, and spellbook_menu2 is off,
    gives you the lowest level spell if you type a low-case letter: maa, the top 
    level spell if you type a capital: maA, and a menu if you type a capital for 
    the spellbook: mAaa or mAAa.
  - The third, if the option spellbook_menu is on, and spellbook_menu2 is on,
    reverses the capital behavior on spellbook selection, so maa gives you the
    menu, mAa gives you the lowest level, and mAA, the highest level.
  Note that if you inscribe the spellbook with a comment such as @m1, you'll 
  get the lower-case behavior when typing 1.

## Balance changes ##

- Spell damage levels/mana costs tweaked.

- Rangers will no longer get to choose spell powers from menus - they will 
  only have the lowest power level available to them.

- Spellsword subspells now given at higher levels than mages, and cost more 
  mana, like other spells.

- Spellswords now have lowered chances of their spells beaming.

## Bug fixes ##

- Minor typos fixed.

- Mana cost for infravision spell corrected.

- Fixed several bugs in the sub-spell selection.

- Magic missile spell now works correctly.

- Browsing/learning spells can no longer crash the game if you press a capital
  letter.

- You can no longer browse illegible spells.

- The ring of Hades has been removed (a bug because it was not supposed to be
  in the release version).

- Artifact spoilers now correctly display curse information.

Changes from 0.4.0d to 0.4.1:

- 0.4.0/b/c/d savefiles are compatible, with the following exceptions:
  - Spellcasters will have to re-learn all their spells.
  - Spellcasters who use mage books will have their books replaced by the new
    ones; this means they'll have a different spell selection.

## Gameplay changes ##

- Amnesia attacks now make you forget trap locations.

- You can now rest until your hit points or your spell point are full (thanks 
  to Pav Lucistnik).

- More documentation updated.

- Maximum amount of rods in a stack increased to 4. Rod weight increased 
  slightly.

- Totally reworked how resistances affect effects. Now, the progression is no
  longer linear and it depends on the specific resistance cap. For example. an
  8% confusion resistance gives you no resistance to the confusion effect, a
  16% confusion resistance give 5% chance of not being confused, a 30%
  confusion resistance gives 50% chance, and a 40% confusion resistance makes
  you immune to the confusion effect. Damage reduction is still simple, 
  though - so an 8% confusion resist reduced confusion damage by 8%. This will
  hopefully balance the resistances.

- Unresisting monsters hit by nexus attacks might now be teleported a small
  distance.

# Combat #

- Critical hits improved a bit.

- Very high strength (25+) will allow for more blows with heavy weapons.

# Magic #

- The 9 mage (red) spellbooks have been totally revised. This affects mages, 
  rangers, spellswords and mystics.

- Spells no longer give experience the first time they are cast. Also, the
  "untried" status has been removed from spells since it's now unimportant.

- Some spells now allow you to choose a power level, where, for different
  amounts of mana, you get different effects. If you press a capital letter in
  the spell selection, it will automatically cast the most mana-intensive 
  version of the spell available.

- Browsing now allows you to see info for spells you haven't yet learnt (as 
  long as they are available to your class).

# Classes #

- The experience penalty for mystics, mages, priests, paladins and rangers
  reduced to account for their losing the spell experience bonus. Spellsword's
  penalty remaines the same.

- The thief class has been improved:
  - They advance levels quicker.
  - They get more attacks - they now have the best number of attacks except 
    warriors. Their melee skill, however, is still lower than most fighter
	classes.
  - They get better critical hits when throwing stuff.
  - They now get an approximation of an item's worth when "I"nspecting it.
  - They get better saving throws.

- Warriors have been improved:
  - They now need dexterity 27 to get 6 attacks, instead of 29.
  - Better resistances.
  - Saving throws improved somewhat.
  - They get an extra point of dexterity at startup.

- Very slight reduction of spellsword melee and resistances.

# Items #

- You can now see alchemical information on potions when 'I'nspecting them
  (thanks to Pav Lucistnik).

- Rarities for the more powerful DSMs increased.

- New artifact: the Ring of Hades. 

- The Elven Cloak of Orodreth now gives +2 stealth.

- Potions of *resistance* now worth less money (though they're still very 
  expensive).

# Monsters #

- Monster spoilers now correctly list the colors of multi-hued, mimic and 
  clear monsters.

- Vampire bats are now hurt by light.

- Dzoo-noo-qua are now light red (to avoid confusion with other troll types).

- Orange and blue icky things modified slightly to make their EXP values make
  sense.

## Non-gameplay changes ##

- General cleanup of spell effects, removing many unnecessary and inconsistent
  function layers.

## Bug fixes ##

- Trap/door/wall destruction spells will no longer leave "phantom" doors.

- Monsters with KILL_WALL will no longer leave "phantom" doors after killing doors.

- Players will no longer leave "phantom" door when tunneling.

- Searching now properly displays found traps.

- Cure fear/poison power did nothing. 

- Cancallable rods and staves (such as perception) now work correctly.

- Demons and angels now get the correct abilities when levelling.

- Confusion spells could affect you even if you had resistance.

- You will no longer see two "shots" when throwing a powder.

Changes from 0.4.0c to 0.4.0d:

## Gameplay changes ##
 
- The penalties for very low constitution slightly increased.

- display_recharge_msg is now a disturbance option.

# Help files #

- Class and race help files have been updated.

# Classes/Races #

- Resistance levels for all classes and some races lowered. (Reason: they 
  didn't do much, and no one noticed. So, now that they work, they can 
  be lower)

# Monsters #

- Purple worms can now KILL_WALL, and they give more experience.

- Several monsters got revised experience values.

- Descriptions of many monsters changed.

## Bug fixes ##

- Non-elemental resistances didn't actually reduce the damage.

- Characters with racial immunities got them too soon.

- If you have an artifact that raises a resistance cap, you can see that 
  without *ID*ing it.

- I think I actually fixed the bug where broken/open/secret doors would 
  sometimes appear to be closed doors (even though they'd behave 
  more-or-less normally). Though, having said so twice before already, I'm
  not promising anything.

- Damaged armor can now have a base AC of 0 (so damaged shirts don't have a 
  higher base AC than normal shirts).

- You can no longer lose HP when gaining levels, no matter what your 
  constitution is.

- The artifact list no longer spoils ring, amulet and light-source flavors.

Changes from 0.4.0b to 0.4.0c:

## Bug fixes ##

- If you couldn't see a trap, it wouldn't affect you (oops).

- Occasionally secret doors were visible before detected.

- Sometimes, broken/openend doors would appear to be closed.

- When you identified an artifact that ignores disenchantment but do not 
  *ID* it, you could get an incorrect message about it being vulnerable 
  to disenchantment.

- Light sources, musical instruments, rings and amulets were incorrectly 
  reported as being vulnerable to disenchantment.
  
- Character dumps would not display random resistances of items.

Changes from 0.4.0 to 0.4.0b:

## Gameplay changes ##

- Now, item info tells you what kind of attacks an item is vulnerable to.

## Bug fixes ##

- Monsters will no longer leave phantom "doors" when bashing locked doors.

- The object recall window now works correctly.

- Proper message when trying to browse a book in a store (note: it is still
  impossible to browse in a store, because the amount of reworking necesary
  to correct this exceeds the utility by far).

- Makefile.std corrected (thanks Darkgod and Keith Willoughby)

- You can no longer buy stuff in the shop using 'm'.

- Fixed message when a single item recharged.

- You could never learn the second component of an alchemical formula.

- Occasionally, player traps would be generated in the dungeon.

- Room descriptions could be generated jumbled.

- Inappropriate symbols could appear in room description titles.

- Several bugs associated with character dumps fixed.

- The browser will no longer crash if you press down when it's empty.

- Monster spoilers will now always include uniques. (You used to need to turn
  on cheat_know for them to be included because of a bug).

Changes from 0.3.6 to 0.4.0:

- Not compatible with 0.3.6 or older savefiles.

## Gamplay Changes ##

- Added room descriptions (taken from UnAngband). Each room now has a 
  description which can affect its contents. You can turn the display of room
  descriptions off by a gameplay option, and also display them in a terminal 
  window.

- Resistances are now percentile. Instead of having an on/off flag, there is 
  now a percentile value to each resistance. All resistance sources are now 
  cumulative. Also, all characters now have intrinsic resistances which rise 
  with level, and depend on race and class. This severly changes game balance -
  probably a lot of tuning will be necessary.

- Added an option to avoid displaying inscriptions in messages.

- Added an option to display a message whenever an item recharges. (Thanks 
  Behemoth)

- The monster list terminal now shows monster symbols. (Thanks Pav Lucistnik)

- Invisibility revised. Attacking no longer totally cancels temporary 
  invisibilty, just shortens it. Monsters far less likely to cast spells while 
  you're invisible.

- Alchemy rebalanced. Now, all potions have a pval which determines which 
  combinations they can be in.

- Added amulets and rings to the "squelch by quality" menu.

- Totally revised the item 'I'nspection display. It now uses similar code to 
  the monster recall. Also, it will correctly display resists and slays. 
  Finally, it display's the item's history. (based on David Sward's patch)

- The code for generating spoilers has been unified with the monster/item 
  recall code.

- No more self knowledge. Potions of *enlightenment* no longer provide the 
  ability. Potions of self knowledge and the self knowledge spell removed.

- Now, the object browser also supports item "r"ecall.

- Chests have been totally removed from the game. They will return in a future
  version, in a different form.

- The object recall term window now displays the most recent object recall.

- The character screen now only has two modes.

- You can now display the player's temporary conditions in a term window.

- If you're standing on a trap square, you can activate it by pressing '>' 
  (down). This is so thieves will be able to use trap doors/teleport traps 
  to escape monsters.

- New trap system - there is now an edit file that controls trap types 
  (trap.txt). Glyphs and locks have been re-implemented as traps. Many new
  trap types added.

- All players now have a chance to bypass a visible trap - going through the
  square without being affected. Thieves have a much higher chance than other
  classes.

- Character dumps improved (Thanks to Pav Lucistnik)

- Players can now "magic-lock" doors (well, actually only some classes can). 
  Magic-locked doors are very difficult for monsters to open/bash, but they
  can be easily opened by the player.

- Monsters unlocking doors no longer depends on their HP, but on their depth. 
  As a general rule, monsters will find it harder to unlock doors. However, 
  there's a new monster PICK_LOCK flag, which will make it easier for the 
  monster to unlock doors.

- Monsters bashing doors also now depends on monster depth, BUT the more 
  damaged they are, the harder it is for them to bash a door.

- Changed the pref file format so that trap types can be assigned graphics 
  (note that the modify visual command has not been updated). You need to 
  add "W:" lines for the trap graphics. Windows preferrences now need "T:" 
  lines, instead of "W:" lines. (yes, that seems to make little sense. But 
  since the trap info is called w_info and windows are called term windows, 
  that seemed to actually be the better way around. I'll probably revise the 
  way .prf files are handled in a future version to solve these problems.)

# Combat #

- Monsters with high AC (relative to your skill) now harder to hit. Bonuses 
  to hit now more important.

- Changed AC. Now, AC no longer reduces damage, but every point of AC is more
  useful in determining whether you will be hit or not. AC value has been 
  reduced for most items.

- Mana regenration much faster for characters with low mana. This will 
  hopefully allow low-level mages to keep up after the other changes. Also,
  note that spell/item damage has not been toned down, and so improved 
  relatively to weapons.

- Reduced the maximum damage enchantment bonuses for melee weapons, the 
  maximum level of rings of damage/slaying, and of ego items and artifacts. 
  Also, reduced the damage bonus from very high STR.

- Higher strength required to weild heavier weapons.

- Changed the calculation for amount of blows. This will be worse for most 
  characters. Dexterity is now a lot more important, as is class. 

- Weapon weight no longer affects the critical hits. Instead, they are 
  determined heavily by player level and to-hit skill.

- Slays/Brands multiplier lowered, but now they affect entire damage 
  (including bonuses).

- Many weapon weights lowered.

# Quests #

- Random quests are now all stored in the same slot, since there is no reason 
  to keep the history and it just wastes memory.

- Quest reward allocation improved, less likely to end up giving you only ammo.

# Spells #

- Armor penalties for spellcasters revised. Rangers, Bards and Mystics can 
  wear more armor before the penalty kicks in. Also, the penalty is now 
  non-linear, making for a low penalty for wearing a bit more than allowed, a 
  very high penalty for wearing a lot more.

- Spell list for most classes changed. 

- All calming spells made more powerful.

- New types of glyphs - lesser glyph of warding (available to mages), which is 
  lot easier for monsters to break than the normal glyph, and holy sigils, 
  which only block movement of undead and demons (but block all summoning), 
  and can be broken by any monster.

- Changed the way healing spells/items work. Now, They heal a percentage of 
  your damage (though each is capped at a minimum). So, for instance, cure 
  light wounds will always heal 5% of your, and cure critical wounds will 
  heal 30% of your damage.

# Races/Classes #

- Total reworking of race list:
  - Races removed: Half-elf, high-elf, half-orc, dunadan, half-troll, hobbit.
  - New races: Grippli (a frog-like race), Ursa (a bear-like race), Vargr 
               (a wolf-race), and Lizardman.

- New class: Thief. Thieves have moderate fighting skills, great stealth (which 
  improves with levels), and can tell the exact type of a trap by looking at it. 
  They also have the ability to place traps using the 'p' command. Currently, 
  this uses the Oangband trap system, because I didn't have time to implement 
  the system I wanted. This will change in future versions.

- Bards can now get 0% fail rate.

# Items #

- Item destruction has been toned down.

- Musical instruments are now indestructible (this might change in a future 
  version).

- Added new item flags that protect from certain effect in addition to the 
  resistances. Big thanks to Richard Smith for helping me assign them to the 
  proper items.

- Random artifacts removed. They will be back in a future version, once all the 
  changes to the item system are properly in place, but for now having them 
  around really complicates development. 

- Added armor prefixes. They work in a similar way to weapon prefixes.

- Added several new weapon prefixes.

- Added flexible slays - now, different weapons can have different levels 
  of the same slay.

- All potions now feed you a little (except for potion of salt water).

- Many new ego item types added.

- Added several items: Hatchet, Cleaver, Stout Stick, Three-Piece-Staff, 
  Blackrock Quarterstaff, Apples, Piece of Ambrosia, Mysterious Piece of Meat, 
  Silver Crown, Shirt, Potion of Stealth, Silver Arrows, Silver Bolts,
  Staff of Barriers, Talismans of Rapid fire/acid/frost/lightning bolts. 

- Removed several items: Lance, Pint of Nectar, Filthy Rag, potion of 
  self knowledge.

- The Beacon of Om now has an activation.

- The Massive Iron Crown of Morgoth now give +50 stats, not +125 - still more 
  than enough, but the old value could cause display problems.

- All potions now feed the player the same amount.

- Artifacts added: The Cleaver of Fendilo (Gumband).

- Artifacts removed: The Lance of Eorlingas,

# Monsters #

- Reorganized the letters for many monsters:
  - 'y'eeks have been removed.
  - 'l'ice have been removed.
  - 'F'lies have been removed (some flies become 'I'nsects).
  - 'g'olems are now 'A'utomata.
  - 'G'hosts are now 'g'hosts.
  - Giant 'P'eople are now 'G'iants.
  - 'p'eople split to low-level 'p'eople and high-level 'P'eople.
  - 'l'ycanthropes added.
  - 'F'aeries added.
  - 'Y'etis become 'y'etis.
  - 'M'ulti-headed reptiles become h'Y'dras.
  - 'z'ombies split into 'z'ombies and 'M'ummies.
  - 'H'ybrids become 'H'ags. (Harpies remain 'H's, but most other 'H's 
     becomes 'q'uardrapeds).

- Many new monsters added, many monsters removed, and many monsters changed. 
  Don't assume anything about monsters just because you know them in another 
  variant (or an older version).

- Elementals no longer fail when casting spells.

- New "ego" monsters, which currently are for flavor only and don't affect 
  gameplay.

- New monster flag: EVASIVE. Monsters with this flag have a chance of evading 
  your blows and blinking away.

- New monster spell: S_FAERY.

- Removed the ESCORT/ESCORTS and FRIEND/FRIENDS double-flag redundancy. Added a 
  new flag, MANY, which combines with a group (either kind) to make it larger.

- Removed the S_WRAITH monster spell. The wraith uniques are now handled 
  similarly to all other uniques.

- The POWERFUL monster flag has been renamed to the less confusing 
  WIDE_BREATH, and has been removed from all monsters without breath attacks.

- New attack methods: GRAB

- Monsters with stealing attacks now blink a shorter distance away.

## Non-Gameplay Affecting Changes ##

## Bug Fixes ##

- Fixed a bug associated with spellbook rewards (Thanks to Pav Lucistnik and
  Behemoth)

- Fixed a message bug when shooting/throwing your last missile.

- Fixed a bug whereby Lokkak didn't get his summoning spells.

- Fixed a few bugs with monster spoilers.

- Fixed possible freeze error when generating levels.

- Fixed spellcasters' armor penalties.

- Random class selection again chooses a legal class.

- Fixed the incorrect special quest failure bugs.

- Fixed the quest reward artifact bugs. (Thanks to Kieron Dunbar).

- Fixed the special quest failure bug.

- Stacking bugs for wands and staves have been fixed.

- Behavior of rods and talismans in shops has been fixed.

- Fixed mana breathers that actually breathed disenchantment.

- Fixed possible freeze error when generating levels.
