****************************************************************************
Our story so far...
  It is the time of the Conjunction of a Million Spheres. Your Earth is
composed almost entirely of cave-riddled mountains (which have their own
dark inhabitants, known mostly by rumour), with villages in the few fertile
valleys that exist. Except for high summer, movement and trade between the
villages is almost impossible.
  Fresh rumour begins infiltrating the villages.  Rumours about the strange,
otherworldly beings that have begun to concentrate in the vast system of
caves under the mountains.  Rumours that the forces of Chaos are gathering
in unheard of numbers (led by three Chaos Lords referred to only as "The
Sword Rulers"), somewhere deep within the Earth, preparing for a great
battle with Law, upsetting the rule of the Cosmic Balance on your plane.
  Something needs to be done.  The Balance must be restored.  Someone must
journey to the bowels of the Earth and attempt to banish these Sword Rulers
from your plane...
****************************************************************************

=============================================
= Gumband 2.1.5c = Last Update: 02-May-2001 =
============================================================================
Changes from Gumband 2.1.5a are marked with '##'. Only the most major
changes are listed here, to keep things short...
============================================================================
Send any and all complaints (or praise ;) to aa343@chebucto.ns.ca. Patches,
makefiles, etc., should be sent to gumby_jd@yahoo.com (due to a lack of
INBOX space at the first address).
============================================================================
PLEASE NOTE: Preserving savefile compatability is *NOT* important to me. I
highly suggest you finish up your current character in your current version
before moving to this one. At the very least, monster memory could be
severely messed up between versions...
============================================================================
Thanks to all the folks in #angband and rec.games.roguelike.angband who've
put up with me, and even helped me in many cases, while I was plundering
their knowledge of C for this little project. :) So, if you've responded to
any of my posts dealing with Gumband, or C programming in general, consider
yourself thanked. :) [individual thanks will be down there in the entries
that apply]
============================================================================
Thanks also to those who've been compiling Gumband for other platforms. You
know who you are, and since it sometimes changes, I won't lay the blame in
here. ;) Just make sure to give yourself credit for the compile in the text
file you upload with your archive, 'kay?
============================================================================
There have been other minor changes than those listed here that are no
longer worth individual mentions. Most changes to the monster, object and
artifact lists won't be included here, and some items might drop off the
list from time to time (to save space), tho that won't mean that the change
has been reversed.
============================================================================
Note to Windows users: Remember to change Gumband.ini to reflect the path to
\lib on your own system....
============================================================================

                    ####### Known Bugs #######

01) There are too many potions in the game at the moment, so a few potions
cannot be generated via debug mode's item creation menus since the list runs
out of symbols fairly quickly. It is not a priority to fix.

02) If you look through the entire monster list ['/' then CTRL-a] while the
'know all monster info' cheat is active, you will see the occasional blank
monster (ie, The ('')/(''): [(r)ecall, ESC]). This is because there are
still empty slots in r_info.txt, which I will eventually fill.

03) Like with Chaos Patrons, when you go to a 'p'revious character, the
current Weaponmaster specialty remains, instead of restoring the older
character's specialty. If you then continue rolling, a new specialty will be
randomly chosen, of course. Not worth the effort to fix, IMHO.

04) Sometimes, completely at random, the Roguelike option will set itself to
true upon startup. I have no idea why...

05) Unfortunately, it seems that sometimes the game will freeze when you
enter a level. I have no idea why, as usual. :( All I can suggest, until I
figure this out, is that if this happens right after a save, that you move
your character around a bit before taking the stairs or WoR'ing into the
level that just froze you - that usually changes the RNG enough so that the
freeze won't happen a second time. This seems to happen deeper in the
dungeon when you've got a lot of monsters - maybe something to do with the
random quests... Save often and if this happens, don't consider yourself a
cheater for restoring from a backup.
## A test today [01-May-01] found a freeze after a 'Refusing a lesser vault'
message during level generation. I'll continue investigating.


                    ####### Misc Changes #######

01) Implemented a quick start option. If you select it, your character will
start the game with mildly enchanted equipment in their inventory. The
enchantments include a minor Slay or Brand for weapons with a few plusses,
and one of the basic elemental resistances for armour. The Ranger's Short
Bow only gets plusses. Using this option will cut your final score in half
and character dumps will be marked.

02) Chaos Resistance no longer gives Confusion Resistance.

03) Being Berserk now gives +25 to hit and +10 to damage. In return, you are
reduced to just the base AC of worn armour and your Dexterity bonus, minus a
further 10 points. Spellcasting failure rates go up by 25% as well.

04) I have implemented Kamband-style Ghosts, but as a player state (ie,
any race and class) instead of a race. The player starts out in the dungeon
on level 96, on a random stairwell, with a load of Scrolls of Identify. The
player cannot use Word of Recall effects until he or she reaches the town,
at which point the character loses the abilities granted by this ghostly
status (See Invisible, Telepathy, Slow Digestion, permanent Lite, Speed +10,
wizard-lighting levels upon entry, and being able to pass through walls with
out damage).
  Thanks to DarkGod for all of his help on this subject, and thanks to
Ivan Tkatchev for creating Kamband and thus giving me the idea to put it in
Gumband. :)
 Thanks to Timo Pietil for pointing out that there's no penalty for *not*
going to the town... Now down stairs ('>') will not be generated at 4850'...
 Thanks to Antimatter for the suggestion on how to fix the starting-stair
problem...

05) Turned the Spoiler Generation debug command into a standard command,
accessed via the '$' key in both command sets. Note that the *.spo files
will be generated in ./lib/info. Spoilers can be viewed externally, of
course, but can also be found through the in-game help system. [also altered
the help menu organization a tiny bit. :]


              ####### Altered Races and Classes #######

(see /lib/help/birth.txt and the source for full details on races and
 classes)

Beastmen:
 In addition to the chance of gaining mutations as they increase in level,
   Beastmen now randomly gain and lose mutations every once in a while as
   they move around or rest...

Chaos Warriors:
 If you have Arioch, Xiombarg or Mabelrode as a patron, and you kill them,
   then you will be hit with multiple TY Curses.
 Now use WIS for their spell stat instead of INT (they now get their magic
   through their patron (god), like Priests and Paladins do).
 Swapped their +1 INT bonus with their +0 WIS bonus, to make the above a bit
   fairer.

Draconians:
 Now gain the following resistances at the level in brackets: Fire (5),
   Cold (10), Acid (15), Electricity (20), Light (25), Dark (30),
   Poison (35).
 Breath weapon type is randomly chosen from a list that is added to as
   levels are gained. All Draconians have Fire breath. The breath types that
   follow are added at the levels in brackets: Cold (10), Acid (15),
   Electricity (20), Light (25), Dark (30), Poison (35), Shards (40),
   Chaos (45), Mana (50). [breath type was previously determined by class]
 XP required now at +125% (down from +150%).

Dwarves:
 Magic Mapping is added to their racial activation at level 35.
 XP required now at +30% [was +25%, despite what birth.txt said :]

Gambolts:
 Exceptional DEX & CHR (both sustained), Saving Throw and Stealth. Decent
   Searching and great Perception. All other stats and skills are average.
 Permanent speed +2.
 Hit Dice of 8, 60' infravision, and an XP penalty of +30%
 Racial activation is Charm Monster at level 20, which becomes Charm
   Monsters at level 50.
 Cannot 'legally' choose to be Priests, Paladins, Chaos Warriors or Monks.

Gnomes:
 XP required now at +30% (was +35%).

Golems:
 They now resist Fire (because of their 'birth' in a kiln, forge, or for
   being stone) and Shards, in addition to their original Poison resistance.
 They no longer get intrinsic See Invisible, Free Action or their level 35
   Hold Life, but keep their Slow Digestion.
 Intrinsic Armour Class has been changed to equal the Golem's level.

Half-Giants:
 Racial activation ('Stone to Mud') has been altered to only work when the
   player is adjacent to a non-permanent wall (or a closed door).
 XP required now at +25% (down from +50%).

Half-Titans:
 XP required now at +125% (down from +150%).

Half-Trolls:
 All Half-Trolls, not just Warriors, get Slow Digestion with their level 15
   Regeneration.

High-Elves:
 XP required now at +75% (down from +100%). High Elves just aren't all that
   impressive these days.

High Magi:
 Now get a mana bonus of +50% instead of the normal +25%.
 Pseudo-ID speed is based on magical realm (faster pseudo-ID for those
   realms that get Identify later, or not at all).

Monks:
 Stealth skill now 4 (was 5).

Nibelungs:
## Magic Mapping is added to their racial activation at level 35.
## Racial activation now costs 10 (was 5).

Priests:
 The penalty for using edged weapons is now a *real* penalty of (-15,-15)
   instead of the (-2,-2) that no one ever really noticed. See also the
   Spellcasting section below.

Rangers:
 Bonus shots with Short and Long Bows at levels 15, 30 and 45, instead of
   just at levels 20 and 40.
 Nature magic only, no secondary realm.

Rogues:
 Rogues gain 1 XP for successfully searching out a secret door or trap with-
   out using a spell. Others gain nothing.
 Only Rogues gain XP for picking the locks on doors and chests.
 Rogues can now lock doors when they close them. This sets the door to the
   lowest level of locked door (FEAT_DOOR_HEAD + 0x01). To avoid scumming,
   this level of locked door will *not* grant the XP bonus for unlocking
   doors.
 Other classes only get 1/2 of the normal XP gained for disarming traps.
 Backstabbing a monster requires that the Rogue be wielding a weapon that is
   5 pounds or lighter, the Rogue pass a randint(monster_level+10) <=
   stealth check, and that the monster be somewhat humanoid.
 Backstabbing also affects monsters that are stunned or confused, in
   addition to those who are sleeping (ie, those that are helpless) or
   fleeing.
 Backstabbing a sleeping monster now does (5 + (plev/10)) times normal
   damage (ie, x5 to x10!) and stabbing a fleeing monster deals x3 normal
   damage (instead of the original x1.5).

Spectres:
 No longer gains telepathy at level 35.
 No longer glows (permanent lite) as they did in the previous version.

Vampires:
 Takes damage from wielding *any* light source (either in the Light slot or
   as a weapon or armour) without having Resist Light.

Warriors:
 Warriors gain an AC bonus equal to %50 of worn armour's base AC, rounded
   down.

Warrior-Magi:
 Bonus melee attacks at levels 25 and 50, bonus missile shot at level 35.
 6 blows with same weight and multiplier restrictions as Warriors.
 Arcane magic only, no secondary realm.
 Available mana is at 75% what everyone else gets.
 XP required is at +35% (down from +50%).

Weaponmasters:
 Weaponmasters are roughly equal to Warriors as far as stats and skills go.
 Weaponmasters have chosen for them, at birth, one of the four melee weapon
   types (Hafted (blunt), Polearms, Axes, or Swords) and start out with a
   fairly heavy (approximately 15 pounds) weapon of the proper type.
 Weaponmasters gain a bonus to-hit and to-dam equal to the player's level
   only when using a weapon of the type they specialize in.
 [thanks to GSN for the suggestion on how to keep this from affecting bows &
   throwing - I probably never would've spotted something so simple on my
   own :]
 Weaponmasters gain extra blows when wielding a weapon in their specialty
   class (extra blows at levels 15, 30 and 45), but never have more than one
   blow, regardless of Str & Dex and any magical considerations, when
   wielding other weapons.
 Gains Fear Resistance at level 30.
 No spellcasting.
 XP penalty of 30%.

Yeeks:
 Acid Immunity comes in at level 30, instead of the original level 20.


              ####### Monster-Related Changes #######

 Bumped Sauron to level 97 and replaced Oberon, and the Serpent of Chaos
 with the three Sword Rulers (Arioch, Xiombarg and Mabelrode), all three of
 which must be now be defeated to win.

## Mabelrode had too many hit points (35000), causing him to die in one blow
 since I forgot to take into account the fact that monster HPs are stored in
 a signed 16-bit int variable, with a limit of 32k or so. :) He has been
 reduced to 32000 hit points, which is the main point of this update.

 Monsters with HURT_FIRE or HURT_COLD take +50% damage from those sources.

 Monsters with RES_CHAO take extra damage from weapons of Chaos (in the
 Eternal Champion setting, such weapons were created from Chaos to fight
 Chaos), but damage from Chaos breath, bolts and balls are reduced like any
 other resistance.

 EXPLOSIVE flag added (monster blows up when killed - a formalization of the
 Unmaker's death effect). EXPLOSIVE monsters can only be killed by the
 player.

 New monster blow effect: RBE_VAMP (drains XP and heals the monster). See
 melee1.c for full details.

 New monster blow effect: RBE_HALLU (causes hallucinations, preventable with
 Resist Chaos or a saving throw).

## New monster spell flags: BOULDER_1 (radius 1 ball, 3+(monlevel/10)d6
 GF_ARROW damage, "The Foo throws a boulder.") and BOULDER_2 (radius 2 ball,
 6+(monlevel/5)d6 GF_ARROW damage, "The Foo throws a large boulder.").
 Basically, they are just slightly reworked ARROW_# spells, except that they
 cannot be reflected as arrows can. [previously, BOULDER_1 *could* be
 reflected since the reflection code reflects anything with a 0 radius]

 Undead monsters are no longer totally immune to Nether attacks. Instead,
 they resist at 1/9th normal damage (compared to 1/3rd for those who resist
 Nether and 1/2 for Evil creatures).

 Nexus attacks can now teleport monsters (who don't resist nexus or
 teleportation, or who fail the saving throw) short distances.

 Defined humanoid monsters as a monster with one of the following symbols:
 "AhkNoOpPtTyYVW". Used for Slay Humanoid and the backstab attack of Rogues.

 If you feel righteous [ie, Bless/Prayer spells and scrolls], then your
 equipment won't become cursed from a monster's CAUSE_# or Hand of Doom
 spell attacks.

 The Hand of Doom also TY-Curses you if you don't save, and is also a bit
 harder to resist.

 The monster health bar has been updated to show if a monster is stunned
 (light brown) or confused (dark brown).

 Uniques no longer get automatic resistance to sleep, confusion, slowing,
 etc., and the saving throw for all creatures against such attacks is a bit
 weaker. [Uniques still can't be charmed, however]

 New option: stupid_groups. If 'stupid_monsters' is off, this option
 controls whether group monsters will hide out in rooms, away from and out
 of sight of the entrance, or if they will act like normal...

 When a pet of yours kills a monster, you will get one half of the XP that
 you would have gotten for killing the monster yourself.


               ####### Object-Related Changes #######

 Altered the Dexterity table governing the chance of having something stolen
 from your backpack. There is no more immunity: the table tops out at 98% at
 DEX:18/220 or higher.

 Chaotic weapons deal x2 damage to creatures who breathe chaos and those who
 resist chaos (RES_CHAO) [briefly, weapons of Chaos, in the earlier Moorcock
 stories, were created from Chaos by Law specifically to fight Chaos] and
 have a reduced chance of causing earthquakes or causing your foe to vanish.

 Non-Chaotic weapons that cause earthquakes now only do so when the damage
 dealt is greater than 50 *and* randint(2)==1. If damage is less than 50, an
 earthquake can happen if randint(10)==1 [instead of randint(7)==1].

 Amulets are now vulnerable to electricity.

 Wielding a weapon with a Slay that conflicts with your race has a 50%
 chance of burning you each turn. Wearing heavy gloves (gauntlets or better,
 regardless of artifact or ego status) will prevent the burning. Yeeks and
 Gambolts are considered animals, by the way. Since Slay Humanoid was
 created only for Erekose's sword, Kanajana, which emitted a poisonous
 radiation deadly to humanoids, those with Poison resistance won't be
 scorched by it.

 Added a SLAY_HUMANOID flag. x3 base damage to humanoid creatures. Used
 *only* on the Long Sword 'Kanajana' and will never appear on random
 artifacts.

 Brands and Slays are now cumulative See cmd1.c for full details.

 Turned the code that adds random sustains, abilities and high resistances
 into the RAND_SUST, RAND_ABILITY and RAND_RESIST object flags. Note that
 these are *only* meant for ego-items, so if you modify the *_info files, I
 make no guarantees about what will happen if you try and add these to an
 artifact or normal object - it might crash or it might just ignore the
 flags...

 Large chests now produce only 'good' items (like a monster's DROP_GOOD),
 but are also rarer. [Wooden (rarity 2), Iron (rarity 4), Steel (rarity 6)]
 Small chests now produce only cash and are as common as they always were.

 Artifacts now have a 75% chance to resist disenchantment (was 71%) and
 ego-items now have a 25% chance to resist disenchantment (formerly they had
 no resistance, and 50% resistance in the last version of Gumband).

 Potions of Self Knowledge identify the contents of your pack, and are also
 a bit cheaper and more common.

 Cursed random artifacts will no longer be generated.

 Artifacts now have an 80% chance to avoid being "blasted" by a curse_weapon
 or curse_armor effect.

 Cannot pseudo-ID items while blind (can't judge quality if you can't see
 the item), Berserk (not thinking of anything but smashing people :), cut,
 stunned, hallucinating, poisoned, scared or paralyzed, as well as while
 confused, of course.

 'Scrolls of Rune of Protection' have become 'Scrolls of Runes' and now
 create a 'Sea of Runes' (as per the Life spell formerly known as 'Warding
 True'). Of course, the scroll is now a lot rarer and more expensive.

 Rods and other activated items now display how much time is left before
 they are recharged.

## Added weapons of Haste (weapons with a 1-5 point speed bonus) from
 DrAngband.

## Added Wands of Striking, also from DrAngband. Deals 8d8 GF_FORCE (which,
 as explained below, knocks the target creature backwards) damage, has a
 base price of 800au, and is a level 20, rarity 2 item.

## Added more ego ammos: Slay Undead, Slay Demon, Slay Giant, Slay Elemental
 and ammo of Poison. [the first four because I saw the extra HURT_FOO ammos
 in DrAng's defines.h, the last one 'cause I thought it appropriate]

## The dice on ego-ammunition can be supercharged just as it can on regular
 ego-items and random artifacts.


## Slime Molds are now auto-inscribed with names. :) Thanks to Fufie of
 #angband for this patch. This can be disabled via the name_slimes option.


                   ####### Spellcasting #######

 The biggest change of all to a spell effect: Invulnerability does *NOT*
 prevent all damage, nor does it have a chance of being penetrated. Instead,
 Invulnerability reduces *all* damage to 1/9th of normal (cumulative with
 resistances and such, if I'm reading things right). Hate me yet? :)

 Failure rates for spellcasting are adjusted as follows:
   Wearing gloves (without Free Action or a Dexterity bonus) for mage-type
      spellcasters (+15%) [was +25%]
## Being encumbered by heavy armour [penalty to fail equal to half of the
      amount of mana you again lose for heavy armour; was +15% fail]
   Priests wielding a non-blessed edged weapon (+15%) [was +25%]
   Being Berserk (+25%)
   Being stunned (+15%/+25%)
   
 Characters suffering any of the conditions above can no longer get a 0%
 spell failure rate, no matter how high their spell-stat or level is.
 [penalties are assessed after bonuses]

## The various branding spells have been drastically reduced in level and
 casting cost, except for Vampiric Branding (which is fine right where it's
 always been :), and now appear at points in the game that the player might
 actually get some use out of the weapons so created. Stores will *NOT* buy
 player-branded weapons, however, under any circumstances. [Sorcery's
 'Enchant Foo' spells have also remained where they've always been.]

## The various branding spells can now add their brand to normal ego-items.
 *Only* the brand will be added, not any supplementary abilities (except in
 the case of Trump Branding, which adds Slay Evil and Teleport). As above,
 these items will become completely unsellable.

## Altered the armour weight limits for spellcasting again. See
 ./help/birth.txt for the actual numbers.

Chaos:
 'Mana Burst' now has a straight 5% chance of producing a true ball of mana
   (GF_MANA), destroying any non-artifact objects in its radius, instead of
   the normal missile ball (GF_MISSILE), which doesn't destroy objects on
   the ground. The mana ball does an extra 25 points of damage compared to
   the missile ball.
 'Wonder' now deals a *lot* more damage than standard spells, to make up for
   the randomness which normally makes it a useless spell.
## 'Fist of Force' is now a GF_FORCE effect instead of a GF_DISINTEGRATE
   effect, and has been slightly reduced in damage (to the same level as
   'Fire Bolt').
## 'Trap/Door Destruction' now destroys unrevealed secret doors. (This also
   applies to the non-spell versions of this effect)
## 'Doom Bolt' renamed 'Mana Bolt' and no longer has a 100% chance of
   beaming.

Death:
 'Wraithform' now lasts (randint(plev) + (plev/2)), making it useful.
   Wraithform, whatever the source, no longer grants reflection, and only
   reduces damage to 1/3rd instead of 1/10th.
 'Invoke Spirits' has been replaced by 'Punish Undead' (dispels and turns
   undead creatures).
 'Omnicide' has been replaced by 'Summon Death', a line-of-sight death
   'ray'. There is a price for such power, however - if not invulnerable,
   the caster will suffer 200+d200 damage from Death's cold touch...

Life:
 'Bless Weapon' has been changed to 'Summon Angel'. There is a 1-in-5 chance
   of a hostile summoning. Costs and failure rates are unchanged. Scrolls of
   Bless Weapon have been added to compensate.
 'Protection from Evil' now affects creatures of any level <= level 97,
   regardless of the character's level. Duration of the effect has been
   reduced. It is also less likely to successfully repel a monster (maximum
   40% chance to repel at character level 50). These mods apply regardless
   of the source of the PfE. (see melee1.c for full details)

Mindcraft:
 'Precognition' now detects doors and stairs at level 5, with detect traps
   bumped to level 10, and full detection moves to level 35.
 'Minor Displacement' has moved its dimension door (targeted, short-ranged
   teleportation) effect to level 35.
 'Major Displacement' now gives Teleport Other at level 45 instead of its
   original 'Banish' (teleport away all creatures in line of sight) effect.
 'Psychometry' now gives Identify at level 30 and *Identify* at level 40.
 'Mind Wave' now becomes a line-of-sight effect at level 30.

Sorcery:
 'Stasis' (and, of course, all GF_STASIS effects) now affects uniques, as
   well as those creatures with NO_SLEEP. They still get a saving throw,
   however.
 'Telekinesis' [which I consider useless since it can't go through walls,
   unlike the original SAngband version] has become 'Slow Monsters'.

Trump:
 'Reset Recall' becomes 'Minor Divination' which detects traps, doors,
   stairs and normal monsters, with the same levels, costs and failure rates
   as 'Reset Recall'.
 'Trump Reach' [aka 'Telekinesis'] has become 'Nexus Bolt' [beam, actually],
   with the same damage potential as Chaos' 'Fire Bolt'.


                  ####### Other People's Work #######

(NOTE: I might have missed one or two, but no biggie. :] Mail me if you spot
your own work so I can credit you properly...  And some, of course, is
covered up in the main text)

01) Kieron Dunbar's Stormbringer patch, to put Stormy in the a_info & k_info
text files instead of creating it on the fly.

02) Kieron's self-cursing items patch - items with the "AUTO_CURSE" flag
will curse themselves when worn, and the turn after being uncursed (at
normal speed) while worn, when uncursed (giving you one chance to remove the
item). The type of curse [heavy or normal] depends on what other Cursed
flags the item has.

03) Added Prfnoff's '[Last Messages]' routine to the character dump so we
can all see what you died of. :)

04) Stole the lose_mutation() function from ZAngband 2.5.3, which makes
things a lot more logical when dealing with the gains and losses of
Beastmen...

05) Added Eric Bock's Pet Command Menu [accessed via the 'p' key under both
keysets].  You can now control if pets can pick up objects or open doors, or
forbid those things, tell your pets to follow you closely or to wander at a
distance and, of course, dismiss your pets.

##06) Added APW's 'push-back' effect for GF_FORCE from DrAngband. Many
thanks to APW and DarkGod for their help in trying to get it working right.
[if the monster so hit doesn't seem to get knocked back, it's because they
have taken their move, and the first thing they'll do most times is move
right towards you]
