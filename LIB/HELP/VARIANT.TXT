=== About Cat and the Hack Angband (2.8.53) ===Cat and the Hack Angband (or 'CatH Angband') is an attempt by neko to dofor other classes what Greg Wooledge attempted to do for mages: make themfit their 'idioms' more. A few other interesting things have also beenadded.Note that I have probably added in a whole host of bugs. Please contact meat bmroot@nematic.ieo.nctu.edu.tw if you have any bugs to report,suggestions to make or are just bored.I haven't tested the game play issues fully yet, mainly becuse I don't havea Macintosh compiler. I'll fix the problems that I know are there in thenext release. I'm pretty sure that i've tipped the scales wildly in favorof the player. (oh yeah, _you're_ not complaining...)This is based off of Angband 2.8.0 source. The source for this should beavailable under the name 'cath-angband-2.8.53.tar.gz' in the same directorythat you found this in. My changes are _very_ well documented within thecode (I made a point of this).Note that right now, the game does _not_ read Angband savefiles. This willprobably change once I figure out how to do so. (There's only one bytedifference between this savefile and the others, but it's enough.) I don'thave anything to check that it's valid yet, so you'll have to policeyourself. I will also bet my left kidney that the spoiler generation isbroken. In the executable releases it isn't available right now.Thanks to Greg Wooledge and Stephen Lee for their inspiration and suggestions, inadvertant or otherwise. And of course, thanks to Ben,Chuck, Robert and them for making and developing the best computer gameI've ever played--and _maintaining_ the bugger.I hope you enjoy this variant. It wasn't as hard as I expected it to be(changed most the code in a weekend), but hopefully the changes willbe substantial enough to be noticable.    -- love, 		 neko *meow*       bmroot@nematic.ieo.nctu.edu.tw** List of Changes **o   Autoscumming is now settable on startup, and *not* while the character	  is alive. This will prevent players from scumming 'when convenient' and	  see to it that if they use it early on to generate nice items, they're	  going to pay for it later on when every bleedin' level has a jelly pit.o   Players may now choose a random race/class combo by hitting 'r' when     prompted for either. Also enabled all race/class combinations a la     GW and 2.8.1. Three words: Half Troll Mage.o   A 'Quick mode' option for the autoroller. This gets rid of a delay in the     autoroller loop, and does not update stats in the window while the     characters are being rolled. On a 75 MHz machine, I was able to make	  one million rolls in eighty seconds, or 12500 rolls per second. Note     that this is pretty CPU intensive; ***PLEASE*** do not use this option     in multi-user settings like UNIX! (The quick roller really shouldn't     even be compiled in in this situation.) You're still currently limited     to one million rolls, however. (This might change, although I'm not     particularly thrilled about opening up a floodgate of abuse.)     Interestingly enough, testing with Win95 showed that the system didn't     die too much with this on; I was a bit impressed.o   Added David Blackston's screen.c modifications. I'll add another page     showing the slays/conferrences later.o   The status info at the side of the dungeon view now displays how much     XP needed to get to the next level, so you (I!) don't have to keep     hitting 'C' and doing mental arithmetic all the time.o   The temple now stocks stat restore potions so you don't go to tears	  waiting for the stupid alchemy to stock that restore Str you need so     badly.o   I find destroyed levels thouroughly annoying and made their generation     an option the player can turn off.o   You are no longer limited to dungeon level 127. You can now dive to     level 9999 if you like. (that's over 94 miles!) However, the object     ratings max out at 127, so you won't find any better objects by going     down that far, just tougher monsters. In fact, object generation may be     worse than in Angband at these depths for greater vaults due to the     20-level generation bonus that no longer applies at these depths. BTW,     at ten minutes a level, it'll take you over two months straight to     reach that depth. Enjoy.o   The critical hits code has been completely revamped for most classes.     While mages will not notice any difference, other classes have improved	  values for their crits. New 'levels' of hits have been introduced. See     the addendum at the end of this document for a complete explanation     (spoiler, really.) In summary, the new system is *very* dependant on     the weapon's weight and critical hits are quite a bit more 'random'.     This applys only for melee weapons, not for missile weapons (yet!).     This was done in attempt to get warriors and paladins to weild heavy     weapons and other classes to weild light weapons, encouraging     stereotypes further (:Bo   In order to keep the new crits from getting out of hand with slays,     I revised the damage algorithm so that damage done by slays are *added*     to the critical hit thingy, not multiplied. In other words, if you get     a *GREAT* crit with a slay fire weapon, and do 10 base damage, you will     do     (crit damage) + (slay damage)= (3*10+20) + (3*10) =80 damage     as opposed to     (crit damage) * (slay) = (3 * 10 + 20) * 3 = 150 damage.	  This would have gotten ludicrous with Deathwreaker, which could     have potentially done 1780 damage against Morgoth in one blow on rare     occasions. Now it's at a little over 1000.o   The hits per blows table has been rewritten to make Dexterity 'count'     more. This will generally be disfavourable to most characters,     particulary those weilding heavy weapons like Deathwreaker.o   A new group of flags, CONFER_XXXX, have been added which 'confer' a     slay when attacking. For example, a Ring of Flames now will allow *any*     weapon to act as if it were a weapon of burning. This includes     artifacts, weapons that already have a slay, anything. Note that this     is *not* cumulative: a Whip of Burning and two Rings of Flames will     still do 3x damage to non flame-resistant creatures.     List of flags:     CONFER_FIRE        Fire	  CONFER_COLD        Cold     CONFER_ACID        Acid     CONFER_ELEC        Lightning     CONFER_POIS        Poison     CONFER_EVIL        Evil     CONFER_DRGN        Dragon (x3 slay, *not* x5 execute)o   The elemental rings (Flames, Ice, Vilia, etc) now have appropriate     conferrences (see above). Ditto for the elemental gauntlets. A couple     other artifacts have some conferrences as well; find them in a_info.txt     yourself, or play and be suprised...o   Poison brand (x3) has been added along with Weapons of Venom, a la Greg     Wooledge (although I've yet to see one in his variant). Venomous ammo,     too.o   Players now have a chance to 'save' their armor from being damaged from	  acid attacks: one half the chance of theft safety. However, when this     occurs, the player unfortunately takes it in the face and takes full     damage, as opposed to about half damage when it damages armor.o   On the other hand, fire and acid attacks now have a small chance of     disfiguring the player, reducing Charisma. This chance is one in (level     +10) for acid, and 1 in (level + 50) for fire (player level, not     dungeon level). Now charisma reduction might happen early enough to     actually matter.o   Attacking a sleeping monster will always hit (how could you miss?)o   Rogues who attack a sleeping creature now get automatic 2x damage. Note     that this is *NOT* a critical hit, as Greg Wooledge implemented; I     found my GW rogues weilding really heavy great axes and such to get     good crits, and I've always felt that rogues are 'supposed' to weild     light weapons like daggers and short swords. Note that this extra	  damage is *not* multiplied in by slays, and monsters wake up after the     first attack (which now always hits). I might have it multiplied in     with slays later; I'll have to playtest a bit to see.o   Added two more lesser vaults and two more greater vaults. I'd make     more, but *egad* is making those boring. ):B Any extras would be     appreciated! (Right now CatH is at its limit of 16 vaults, but that can	  be changed with a simple wave of the #define pen. I'd like to end up     with maybe thirty lessers and fifteen greaters to choose from. Which     of course means fewer checkerboards, but maybe I'll put even deadlier     ones in...o   Rangers have had their pseudo-id times greatly improved. Maybe I'll     actually like them now...anyway, they now don't get Identify as a spell     until level 35 to make up for this. They still have worse pseudo than     any class but mages, however. (I ain't _that_ nice (:B )o   Blatantly stole Greg Wooledge's revised health bar from GW-Angband     because I thought it was cute. (To tell the truth, I didn't even know     what the pink and blue bars meant before I saw Greg's variant.)o   The inventory and equipment commands now give the 'nominal' capacity     of the player -- that is, how much he/she can carry without being     slowed.o   Everyone's favorite change: no more magic mushrooms! Yippie! Replaced     by tougher archers.o   Completely removed the bones files code. They don't do anything without     player ghosts.o   A few trivial changes: Maggot has a few more 'moans', while Yeek-King     & Son have some more insults.o   One more trivial change: the age range for hobbits has been increased.     I've always thought it strange that under the Angband system Bilbo     would never have started adventuring (:B** To do (Or the 'shut-up-and-code-it-already' department (:B )**Note that this version is an interim release, and there's still things Iwould like to implement:*   Once the major bugs in Angband 2.8.1 are found, I may start using that     code instead of 2.8.0.*   Range weapons should have their critical hit values revised in the same     manner as melee wepons.*   There are now quite a few yes/no questions asked at the start of the     game. I'd like to implement this like an options screen.*   Add an archer class. Just a few mage spells, but a really nice shot.     (I might not implement out of sheer lack of (un)necessity.)*   Include Greg Wooledge's new spells and the kobold race. The kobolds     here will have a bigger XP penalty though -- innate poison resist is     _powerful_. And I don't care how cuddly puppies are -- their Charisma	  is going *down*! He also went a tad overboard with the 'doglike' faci-     al characteristics of kobolds, IMHO.*   If you ask _really_ nicely, I might restore deep object generation for     vaults just a tad...forget about 10k ObGenLev's for objects though (:B*   Stephen Lee made a big list of suggestions a short while back; I saved     the article and will look at it later, then implement the ones I like     and am capable of doing. He also mailed me a list of changes to a long     forgotten variant...a couple changes (missile weapons of ammunition came     to mind specifically) seemed nice enough to implement.*   In the 'Nethackish Featurism' department: the confer slays should     probably not apply to unarmed characters. Regardless, the message given     by a Self Knowledge potion et al should be changed in this situation.*   For those who *really* want to abuse the autoroller, perhaps I'll take	  out the one million roll limit.*   The scoreboard should be viewable and dumpable within the game.*   *EARTH-SHATTERING* criticals should probably be renamed to avoid     possible confusion with earthquake hits. You never know...*   Rewrite some of the help files to show what I've done and avoid     confusion.*   Real nasty naughty monsters FORCE_DEPTHed to below 5000' to give power     divers who've offed Morgoth something to do. (Great Wyrms of Power, Death,     etc are in the works, along with (possible) new attack forms.)*   A new attack form that eats the food in your tummy (yuk), halving your     current nutrition total. Used by maybe glutton ghosts and some icky things.*   And of course, import Angband savefiles! The only reason it can't now     is because of the autoscummer startup option, which it has to write     into the savefile. My last attempt to do so ended in disaster, however;     It wouldn't even read its own files.============== Bug Fixes ==============Changes from 2.8.52 to 2.8.53*   Fixed nasty bug that made nearly every room 'unusual', making for insa-	  nely difficult dungeons.*   Optimized the 'display overhead view' sub-window so that it doesn't print while     running. (Though it probably should refresh when the player stops.)*   Fixed a couple spelling errors.*   The nominal weight capacity in the inventory/equip window is now truly     fixed (honest!)*   Fixed a couple spelling errors.*   Fixed the marksman. It's a he now, and he can attack.*   The player may now choose a random race and class, if desired. (the     combo will always be valid, but since currently all combos are valid     this is a moot point for now.)*   Added ammo of venom.*   Added the 'to go' thingy in the dungeon display's status view (under EXP:)Changes from 2.8.50 to 2.8.52*   Now properly calculates the player's nominal capacity (it's 60% of weight     limit, not 50%.*   Fixed error in calculating total damage (the damage multiplier was     reduced by one.)*   The scoreboard now works properly. (These scoreboards are _not_ com-     patible with Angband's. It has been modified slightly to facillitate     insane depths.)*   Made the Glaive of Pain 32 pounds to reduce the number of blows/round.====== ADDENDUM: Critical Hits =========(Note: this section does not apply to range weapons, only melee weapons.I'll change around the range crits in a later version.)The probability for a critical hit has *not* changed; it is still:((Weapon_Weight*10) + (plus_to_hit*5) + (player_level*3)) in 5000However, the values of k which determine how 'severe' the critical hit ishas been overhauled for all classes but mages. Weights are in deca-pounds(in other words, the weight of the weapon multiplied by ten.)Class        k Warrior     (level *10) + (weight * 2) + randint(1000 + weight * 4)Mage        weight + randint(650)Priest      (level * 2) + (weight * 2) + randint(650)Rogue       (level * 5) + weight + randint(650)Ranger      (level * 5) + weight + randint(650 + weight)Paladin     (level * 8) + (weight * 3) + randint(800 + weight * 2)k is then checked against the following table to determine the crit/damage:      k            Type                    Damage   0 -  399       good                  2*dam + 5 400 -  699       great                 2*dam + 10 700 -  899       superb                3*dam + 15 900 - 1299       *GREAT*               3*dam + 201300 - 1699       *SUPERB*              3.5*dam +251700 - 2499       *TREMENDOUS*          5*dam + 302500 - 2999       *INCREDIBLE*          7.5*dam + 353000 - 3699       *UNBELIEVABLE*        10*dam + 453700 - inf        *EARTH-SHATTERING*    15*dam + 50Now for some math. Not counting Grond, the *only* way to get an*EARTH-SHATTERING* hit is for a warrior with a weapon of at least 36.7pounds. Since currently the only weapons this heavy are Maces ofDisruption, I'll use Deathwreaker as an example, and Squiddie the level 50,18/*** STR warrior as a guinea pig. Said MoD would garnish an *EARTH-SHATTERING* hit every 12 critical hits or so. Since the probability ofgetting a crit from one of these is 1 in 8, there is a 1 in 96 chance perblow landed of getting this crit. Factor in the 4 hits per round, and oneof these crits shows up approximately one in every 32 rounds. Deathwreaker,with its 7d8 damage base, would do 155 to 650 on this blow, with a *sharp*peak at its average of 470 (all before damage bonuses and slays). By comp-arison, the best crit Squiddie can manage with a 3.0 lb whip is a '*great*'hit, for a whopping 23 to 48 damage base. (Incidentally, a level 50 Paladinweilding a MoD will get an *UNBELIEVABLE* crit roll a quarter of the time,but no *EARTH-SHATTERING* ones. No one else comes close.)At the start of the game, it almost always makes more sense in standardAngband for a warrior to buy a whip for the extra attacks than to stickwith the broadsword. This might help make that decision a bit more dicey,especially for those who can get two hits with a broadsword but only threewith a whip.Finally, note that for mages (who use the old system) will never be able toreach more than a *GREAT* critical hit with a MoD.