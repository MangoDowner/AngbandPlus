#Quest structure.

#Not implemented yet, but a pool for ideas.

#N:num:name (name is preceeded by 'You have ' in list of quests.)
#U:race assigning quest
#T:town:depth
#Q:quest number completed?
#A:artifact given by player?
#K:item given by player?
#R:race:num killed (0 for seen) (up to 4 lines)
#G:item:ego item:artifact:experience gifted to player
#S:summon race (summons this race, done first. Picks a random location on map.)
#X:execute race (this kills uniques even if not on level)
#L:leaving race (set to leaving)
#E:enemy race (set to become enemies)
#F:friendly race (set to allies)
#D:description


# Random quests need to be balanced somehow... they usually use 3 lines
# for given, failed and completed, although failed is optional...

# There are spying quests, recover item quests, and kill monster quests...


# With creatures killed, we set the kill counter to currently killed +
# n and the seen counter (For 0 killed) to currently seen + 1.

# Quest recall is:

# You have been told Farmer Maggot's story. Farmer Maggot seems sad
# about something. Farmer Maggot allied himself with you. You were
# given 1 experience for this action.

# You have failed the quest for Maggot's missing dogs. Farmer Maggot
# tells you to get off his land. You killed Grip, Farmer Maggot's dog,
# Fang, Farmer Maggot's dog and Wolf, Farmer Maggot's dog, after
# having been given the quest for Maggot's dogs. Farmer Maggot became
# your enemy and left for elsewhere. You were given nothing for
# this action.

# You have given the One Ring to Smeagol. Smeagol says 'My precious!'.
# You gave the plain gold ring of Power 'The One Ring' to Smeagol
# on level 100 or deeper. Smeagol became your enemy and left for
# elsewhere. You were given 100000 experience for this action.



# Farmer Maggot's quests.

# Have we talked to Mr. Maggot? He's sometimes a helpful chap...

N:1:been told Farmer Maggot's story.
U:14
D:seems sad about something.
G:0:0:0:1
F:14

# More talking...

N:2:been given the quest for Farmer Maggot's missing dogs.
U:14
Q:1
D:asks if you have seen his dogs.
G:0:0:0:1

# Have we killed all the dogs?

N:3:failed the quest for Farmer Maggot's missing dogs.
U:14
Q:2
R:51:1
R:52:1
R:919:1
D:tells you to get off his land.
L:14
E:14
G:0:0:0:0

# Have we seen the dogs and not killed all of them?
# Experience equal to that for killing all three dogs...

N:4:been given the quest for Farmer Maggot's mushrooms.
U:14
Q:2
R:51:0
R:52:0
R:919:0
D:mumbles something about mushrooms.
G:0:0:0:90

# Gifts a potion of restore mana in return for a mushroom of mana
# Should be D:leaves, his head spinning.... ;-)

N:5:completed the Farmer Maggot quests.
U:14
K:28
D:seems just a little happier.
F:14
L:14
G:266:0:0:120


#Gandalf the Grey fights Durin's bane.
#N::says 'You must not pass. You must not pass!'
#S:Durin's bane.

#And gets killed, of course.


# Death of Boromir

#If we are the ring bearer, he asks us for the ring, and attacks us if we do not give it to him.

#N::asks you for the One Ring.
#U:xxx

#If we are not, then he staggers out of the forest and dies.

#N::gasps 'Orcs. They came from the forest.' and falls to the ground filled with arrows, and bleeding.
#U:xxx
#T:Perth Galen
#S:Uruk_hai Captain
#X:xxx (Kill Boromir)

# Faramir, Guardian of Ilithien

#N::says 'You are a trespasser here. Give us one reason, why we should not kill you?'
#T:Ilithien:1
#U:xxx

#Attack player if Boromir has the ring, as he is under the influence of the ring.

#N::says 'Boromir was here. He warned us against you.'
#F:xxx

#N::says 'Boromir dead? This rests heavy on my heart. But any friend of Boromir's is a friend of mine.'
#U:xxx
#R:Boromir:1
#F:xxx

#N::says 'You have freedom to take what supplies you need for the journey ahead.'
#R:
#L:xxx

#N::says 'Any friend of Gandalf's is at least to be permitted to live. You have freedom to rest here a while.'
#R:
#We don't leave, so stores remain locked.

# Death of Faramir --- happens in Minas Tirith

#N::is carried in grievously injured, by Gandalf.
#U:xxx
#S:yyy (Somebody else).
#X:xxx

# Denethor's grief
#N::lies weeping over the body of Faramir lain on a wooden pyre. He cries 'My son. My son...'.
#U:xxx
#R:xxx

# Denethor's grief
#N::says 'Give me fire. Give me fire for his body. I must burn him.'
#U:xxx
#Q:-1

# Denethor's grief
#N::says to Gandalf. 'You, you did this. You have killed my sons. I hold you responsible...'
#U:xxx
#Q:-1
#E:xxx
#S:xxx

# Battle of Five Armies
# Battle at Hornburg

#Use quests to generate the armies. This way, we have problems if we kill our allied uniques, but
#it's easier if we kill some enemy uniques.


# One Ring quest

#This means we get the ring at the start, and play the quest ourselves.
#Is it unbalanced having the One Ring all the way through??

#If we give the One Ring to Boromir, or anyone else except Gollum, we end up with a super-Sauron
#equally tough as Morgoth. Also various other points are triggered. ie under some circumstances
#Boromir does not die, so Faramir never becomes our friend, and we do not access Ilithien with
#out killing him. Similiarly, if we kill various uniques, we have problems.

#The ring quest also causes us problems at various points on the road.

#N:6:been asked for 'My precious' by Smeagol.
#U:68
#D:says 'Where'sss my preciousss... doesss it have it?'
#G:0:0:0:100
#F:68

#N:7:given Sting to Frodo.
#U:xxx
#A:88
#D:says 'Its too heavy a burden for me to bear, anymore.'
#G:0:0:13:10000
#F:xxx
#L:xxx

#N:102:given the One Ring to Bilbo.
#U:xxx
#A:13
#D:says 'No, it's not for me. Not now.'
#G:0:0:13:50000
#F:xxx
#L:xxx

#N:103:given the One Ring to Smeagol.
#U:68
#A:13
#L:100
#D:says 'My precious!'
#G:0:0:0:100000
#E:68
#L:68
